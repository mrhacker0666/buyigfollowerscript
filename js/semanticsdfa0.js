!function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.transition=function(){var a,o=e(this),r=o.selector||"",s=(new Date).getTime(),l=[],c=arguments,d=c[0],u=[].slice.call(arguments,1),f="string"==typeof d;return t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame,o.each(function(t){var m,h,v,p,g,b,x,w,y,C=e(this),S=this;y={initialize:function(){m=y.get.settings.apply(S,c),p=m.className,v=m.error,g=m.metadata,w="."+m.namespace,x="module-"+m.namespace,h=C.data(x)||y,b=y.get.animationEndEvent(),f&&(f=y.invoke(d)),!1===f&&(y.verbose("Converted arguments into settings object",m),m.interval?y.delay(m.animate):y.animate(),y.instantiate())},instantiate:function(){y.verbose("Storing instance of module",y),h=y,C.data(x,h)},destroy:function(){y.verbose("Destroying previous module for",S),C.removeData(x)},refresh:function(){y.verbose("Refreshing display type on next animation"),delete y.displayType},forceRepaint:function(){y.verbose("Forcing element repaint");var e=C.parent(),t=C.next();0===t.length?C.detach().appendTo(e):C.detach().insertBefore(t)},repaint:function(){y.verbose("Repainting element"),S.offsetWidth},delay:function(e){var n,a,r=y.get.animationDirection();r||(r=y.can.transition()?y.get.direction():"static"),e=e!==i?e:m.interval,n="auto"==m.reverse&&r==p.outward,a=n||1==m.reverse?(o.length-t)*m.interval:t*m.interval,y.debug("Delaying animation by",a),setTimeout(y.animate,a)},animate:function(e){if(m=e||m,!y.is.supported())return y.error(v.support),!1;if(y.debug("Preparing animation",m.animation),y.is.animating()){if(m.queue)return!m.allowRepeats&&y.has.direction()&&y.is.occurring()&&!0!==y.queuing?y.debug("Animation is currently occurring, preventing queueing same animation",m.animation):y.queue(m.animation),!1;if(!m.allowRepeats&&y.is.occurring())return y.debug("Animation is already occurring, will not execute repeated animation",m.animation),!1;y.debug("New animation started, completing previous early",m.animation),h.complete()}y.can.animate()?y.set.animating(m.animation):y.error(v.noAnimation,m.animation,S)},reset:function(){y.debug("Resetting animation to beginning conditions"),y.remove.animationCallbacks(),y.restore.conditions(),y.remove.animating()},queue:function(e){y.debug("Queueing animation of",e),y.queuing=!0,C.one(b+".queue"+w,function(){y.queuing=!1,y.repaint(),y.animate.apply(this,m)})},complete:function(e){y.debug("Animation complete",m.animation),y.remove.completeCallback(),y.remove.failSafe(),y.is.looping()||(y.is.outward()?(y.verbose("Animation is outward, hiding element"),y.restore.conditions(),y.hide()):y.is.inward()?(y.verbose("Animation is outward, showing element"),y.restore.conditions(),y.show()):(y.verbose("Static animation completed"),y.restore.conditions(),m.onComplete.call(S)))},force:{visible:function(){var e=C.attr("style"),t=y.get.userStyle(),n=y.get.displayType(),a=t+"display: "+n+" !important;",o=C.css("display"),r=e===i||""===e;o!==n?(y.verbose("Overriding default display to show element",n),C.attr("style",a)):r&&C.removeAttr("style")},hidden:function(){var e=C.attr("style"),t=C.css("display"),n=e===i||""===e;"none"===t||y.is.hidden()?n&&C.removeAttr("style"):(y.verbose("Overriding default display to hide element"),C.css("display","none"))}},has:{direction:function(t){var n=!1;return t=t||m.animation,"string"==typeof t&&(t=t.split(" "),e.each(t,function(e,t){t!==p.inward&&t!==p.outward||(n=!0)})),n},inlineDisplay:function(){var t=C.attr("style")||"";return e.isArray(t.match(/display.*?;/,""))}},set:{animating:function(e){var t;y.remove.completeCallback(),e=e||m.animation,t=y.get.animationClass(e),y.save.animation(t),y.force.visible(),y.remove.hidden(),y.remove.direction(),y.start.animation(t)},duration:function(e,t){t=t||m.duration,((t="number"==typeof t?t+"ms":t)||0===t)&&(y.verbose("Setting animation duration",t),C.css({"animation-duration":t}))},direction:function(e){e=e||y.get.direction(),e==p.inward?y.set.inward():y.set.outward()},looping:function(){y.debug("Transition set to loop"),C.addClass(p.looping)},hidden:function(){C.addClass(p.transition).addClass(p.hidden)},inward:function(){y.debug("Setting direction to inward"),C.removeClass(p.outward).addClass(p.inward)},outward:function(){y.debug("Setting direction to outward"),C.removeClass(p.inward).addClass(p.outward)},visible:function(){C.addClass(p.transition).addClass(p.visible)}},start:{animation:function(e){e=e||y.get.animationClass(),y.debug("Starting tween",e),C.addClass(e).one(b+".complete"+w,y.complete),m.useFailSafe&&y.add.failSafe(),y.set.duration(m.duration),m.onStart.call(S)}},save:{animation:function(e){y.cache||(y.cache={}),y.cache.animation=e},displayType:function(e){"none"!==e&&C.data(g.displayType,e)},transitionExists:function(t,n){e.fn.transition.exists[t]=n,y.verbose("Saving existence of transition",t,n)}},restore:{conditions:function(){var e=y.get.currentAnimation();e&&(C.removeClass(e),y.verbose("Removing animation class",y.cache)),y.remove.duration()}},add:{failSafe:function(){var e=y.get.duration();y.timer=setTimeout(function(){C.triggerHandler(b)},e+m.failSafeDelay),y.verbose("Adding fail safe timer",y.timer)}},remove:{animating:function(){C.removeClass(p.animating)},animationCallbacks:function(){y.remove.queueCallback(),y.remove.completeCallback()},queueCallback:function(){C.off(".queue"+w)},completeCallback:function(){C.off(".complete"+w)},display:function(){C.css("display","")},direction:function(){C.removeClass(p.inward).removeClass(p.outward)},duration:function(){C.css("animation-duration","")},failSafe:function(){y.verbose("Removing fail safe timer",y.timer),y.timer&&clearTimeout(y.timer)},hidden:function(){C.removeClass(p.hidden)},visible:function(){C.removeClass(p.visible)},looping:function(){y.debug("Transitions are no longer looping"),y.is.looping()&&(y.reset(),C.removeClass(p.looping))},transition:function(){C.removeClass(p.visible).removeClass(p.hidden)}},get:{settings:function(t,n,i){return"object"==typeof t?e.extend(!0,{},e.fn.transition.settings,t):"function"==typeof i?e.extend({},e.fn.transition.settings,{animation:t,onComplete:i,duration:n}):"string"==typeof n||"number"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,duration:n}):"object"==typeof n?e.extend({},e.fn.transition.settings,n,{animation:t}):"function"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,onComplete:n}):e.extend({},e.fn.transition.settings,{animation:t})},animationClass:function(e){var t=e||m.animation,n=y.can.transition()&&!y.has.direction()?y.get.direction()+" ":"";return p.animating+" "+p.transition+" "+n+t},currentAnimation:function(){return!(!y.cache||y.cache.animation===i)&&y.cache.animation},currentDirection:function(){return y.is.inward()?p.inward:p.outward},direction:function(){return y.is.hidden()||!y.is.visible()?p.inward:p.outward},animationDirection:function(t){var n;return t=t||m.animation,"string"==typeof t&&(t=t.split(" "),e.each(t,function(e,t){t===p.inward?n=p.inward:t===p.outward&&(n=p.outward)})),!!n&&n},duration:function(e){return e=e||m.duration,!1===e&&(e=C.css("animation-duration")||0),"string"==typeof e?e.indexOf("ms")>-1?parseFloat(e):1e3*parseFloat(e):e},displayType:function(e){return e=e===i||e,m.displayType?m.displayType:(e&&C.data(g.displayType)===i&&y.can.transition(!0),C.data(g.displayType))},userStyle:function(e){return e=e||C.attr("style")||"",e.replace(/display.*?;/,"")},transitionExists:function(t){return e.fn.transition.exists[t]},animationStartEvent:function(){var e,t=n.createElement("div"),a={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(e in a)if(t.style[e]!==i)return a[e];return!1},animationEndEvent:function(){var e,t=n.createElement("div"),a={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(e in a)if(t.style[e]!==i)return a[e];return!1}},can:{transition:function(t){var n,a,o,r,s,l,c=m.animation,d=y.get.transitionExists(c),u=y.get.displayType(!1);if(d===i||t){if(y.verbose("Determining whether animation exists"),n=C.attr("class"),a=C.prop("tagName"),o=e("<"+a+" />").addClass(n).insertAfter(C),r=o.addClass(c).removeClass(p.inward).removeClass(p.outward).addClass(p.animating).addClass(p.transition).css("animationName"),s=o.addClass(p.inward).css("animationName"),u||(u=o.attr("class",n).removeAttr("style").removeClass(p.hidden).removeClass(p.visible).show().css("display"),y.verbose("Determining final display state",u),y.save.displayType(u)),o.remove(),r!=s)y.debug("Direction exists for animation",c),l=!0;else{if("none"==r||!r)return void y.debug("No animation defined in css",c);y.debug("Static animation found",c,u),l=!1}y.save.transitionExists(c,l)}return d!==i?d:l},animate:function(){return y.can.transition()!==i}},is:{animating:function(){return C.hasClass(p.animating)},inward:function(){return C.hasClass(p.inward)},outward:function(){return C.hasClass(p.outward)},looping:function(){return C.hasClass(p.looping)},occurring:function(e){return e=e||m.animation,e="."+e.replace(" ","."),C.filter(e).length>0},visible:function(){return C.is(":visible")},hidden:function(){return"hidden"===C.css("visibility")},supported:function(){return!1!==b}},hide:function(){y.verbose("Hiding element"),y.is.animating()&&y.reset(),S.blur(),y.remove.display(),y.remove.visible(),y.set.hidden(),y.force.hidden(),m.onHide.call(S),m.onComplete.call(S)},show:function(e){y.verbose("Showing element",e),y.remove.hidden(),y.set.visible(),y.force.visible(),m.onShow.call(S),m.onComplete.call(S)},toggle:function(){y.is.visible()?y.hide():y.show()},stop:function(){y.debug("Stopping current animation"),C.triggerHandler(b)},stopAll:function(){y.debug("Stopping all animation"),y.remove.queueCallback(),C.triggerHandler(b)},clear:{queue:function(){y.debug("Clearing animation queue"),y.remove.queueCallback()}},enable:function(){y.verbose("Starting animation"),C.removeClass(p.disabled)},disable:function(){y.debug("Stopping animation"),C.addClass(p.disabled)},setting:function(t,n){if(y.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];e.isPlainObject(m[t])?e.extend(!0,m[t],n):m[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,y,t);else{if(n===i)return y[t];y[t]=n}},debug:function(){!m.silent&&m.debug&&(m.performance?y.performance.log(arguments):(y.debug=Function.prototype.bind.call(console.info,console,m.name+":"),y.debug.apply(console,arguments)))},verbose:function(){!m.silent&&m.verbose&&m.debug&&(m.performance?y.performance.log(arguments):(y.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),y.verbose.apply(console,arguments)))},error:function(){m.silent||(y.error=Function.prototype.bind.call(console.error,console,m.name+":"),y.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;m.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:S,"Execution Time":n})),clearTimeout(y.performance.timer),y.performance.timer=setTimeout(y.performance.display,500)},display:function(){var t=m.name+":",n=0;s=!1,clearTimeout(y.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),o.length>1&&(t+=" ("+o.length+")"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,o){var r,s,l,c=h;return n=n||u,o=S||o,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,a){var o=n!=r?a+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=r)c=c[o];else{if(c[o]!==i)return s=c[o],!1;if(!e.isPlainObject(c[a])||n==r)return c[a]!==i&&(s=c[a],!1);c=c[a]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),s!==i&&s}},y.initialize()}),a!==i?a:this},e.fn.transition.exists={},e.fn.transition.settings={name:"Transition",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),!function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.form=function(t){var a,o=e(this),r=o.selector||"",s=(new Date).getTime(),l=[],c=arguments[0],d=arguments[1],u="string"==typeof c,f=[].slice.call(arguments,1);return o.each(function(){var m,h,v,p,g,b,x,w,y,C,S,k,_,T,A,E,D,O,I=e(this),M=this,B=[],L=!1;(O={initialize:function(){O.get.settings(),u?(D===i&&O.instantiate(),O.invoke(c)):(D!==i&&D.invoke("destroy"),O.verbose("Initializing form validation",I,w),O.bindEvents(),O.set.defaults(),O.instantiate())},instantiate:function(){O.verbose("Storing instance of module",O),D=O,I.data(A,O)},destroy:function(){O.verbose("Destroying previous module",D),O.removeEvents(),I.removeData(A)},refresh:function(){O.verbose("Refreshing selector cache"),m=I.find(S.field),h=I.find(S.group),v=I.find(S.message),p=I.find(S.prompt),g=I.find(S.submit),b=I.find(S.clear),x=I.find(S.reset)},submit:function(){O.verbose("Submitting form",I),I.submit()},attachEvents:function(t,n){n=n||"submit",e(t).on("click"+E,function(e){O[n](),e.preventDefault()})},bindEvents:function(){O.verbose("Attaching form events"),I.on("submit"+E,O.validate.form).on("blur"+E,S.field,O.event.field.blur).on("click"+E,S.submit,O.submit).on("click"+E,S.reset,O.reset).on("click"+E,S.clear,O.clear),w.keyboardShortcuts&&I.on("keydown"+E,S.field,O.event.field.keydown),m.each(function(){var t=e(this),n=t.prop("type"),i=O.get.changeEvent(n,t);e(this).on(i+E,O.event.field.change)})},clear:function(){m.each(function(){var t=e(this),n=t.parent(),i=t.closest(h),a=i.find(S.prompt),o=t.data(C.defaultValue)||"",r=n.is(S.uiCheckbox),s=n.is(S.uiDropdown);i.hasClass(k.error)&&(O.verbose("Resetting error on field",i),i.removeClass(k.error),a.remove()),s?(O.verbose("Resetting dropdown value",n,o),n.dropdown("clear")):r?t.prop("checked",!1):(O.verbose("Resetting field value",t,o),t.val(""))})},reset:function(){m.each(function(){var t=e(this),n=t.parent(),a=t.closest(h),o=a.find(S.prompt),r=t.data(C.defaultValue),s=n.is(S.uiCheckbox),l=n.is(S.uiDropdown),c=a.hasClass(k.error);r!==i&&(c&&(O.verbose("Resetting error on field",a),a.removeClass(k.error),o.remove()),l?(O.verbose("Resetting dropdown value",n,r),n.dropdown("restore defaults")):s?(O.verbose("Resetting checkbox value",n,r),t.prop("checked",r)):(O.verbose("Resetting field value",t,r),t.val(r)))})},is:{bracketedRule:function(e){return e.type&&e.type.match(w.regExp.bracket)},empty:function(e){return!e||0===e.length||(e.is('input[type="checkbox"]')?!e.is(":checked"):O.is.blank(e))},blank:function(t){return""===e.trim(t.val())},valid:function(){var t=!0;return O.verbose("Checking if form is valid"),e.each(y,function(e,n){O.validate.field(n,e)||(t=!1)}),t}},removeEvents:function(){I.off(E),m.off(E),g.off(E),m.off(E)},event:{field:{keydown:function(t){var n=e(this),i=t.which,a=n.is(S.input),o=n.is(S.checkbox),r=n.closest(S.uiDropdown).length>0,s={enter:13,escape:27};i==s.escape&&(O.verbose("Escape key pressed blurring field"),n.blur()),t.ctrlKey||i!=s.enter||!a||r||o||(L||(n.one("keyup"+E,O.event.field.keyup),O.submit(),O.debug("Enter pressed on input submitting form")),L=!0)},keyup:function(){L=!1},blur:function(t){var n=e(this),i=n.closest(h),a=O.get.validation(n);i.hasClass(k.error)?(O.debug("Revalidating field",n,a),a&&O.validate.field(a)):"blur"!=w.on&&"change"!=w.on||a&&O.validate.field(a)},change:function(t){var n=e(this),i=n.closest(h),a=O.get.validation(n);("change"==w.on||i.hasClass(k.error)&&w.revalidate)&&(clearTimeout(O.timer),O.timer=setTimeout(function(){O.debug("Revalidating field",n,O.get.validation(n)),O.validate.field(a)},w.delay))}}},get:{ancillaryValue:function(e){return!(!e.type||!e.value&&!O.is.bracketedRule(e))&&(e.value!==i?e.value:e.type.match(w.regExp.bracket)[1]+"")},ruleName:function(e){return O.is.bracketedRule(e)?e.type.replace(e.type.match(w.regExp.bracket)[0],""):e.type},changeEvent:function(e,t){return"checkbox"==e||"radio"==e||"hidden"==e||t.is("select")?"change":O.get.inputEvent()},inputEvent:function(){return n.createElement("input").oninput!==i?"input":n.createElement("input").onpropertychange!==i?"propertychange":"keyup"},prompt:function(e,t){var n,i,a,o=O.get.ruleName(e),r=O.get.ancillaryValue(e),s=e.prompt||w.prompt[o]||w.text.unspecifiedRule,l=-1!==s.search("{value}"),c=-1!==s.search("{name}");return(c||l)&&(i=O.get.field(t.identifier)),l&&(s=s.replace("{value}",i.val())),c&&(n=i.closest(S.group).find("label").eq(0),a=1==n.length?n.text():i.prop("placeholder")||w.text.unspecifiedField,s=s.replace("{name}",a)),s=s.replace("{identifier}",t.identifier),s=s.replace("{ruleValue}",r),e.prompt||O.verbose("Using default validation prompt for type",s,o),s},settings:function(){if(e.isPlainObject(t)){var n,a=Object.keys(t);a.length>0&&t[a[0]].identifier!==i&&t[a[0]].rules!==i?(w=e.extend(!0,{},e.fn.form.settings,d),y=e.extend({},e.fn.form.settings.defaults,t),O.error(w.error.oldSyntax,M),O.verbose("Extending settings from legacy parameters",y,w)):(t.fields&&(n=Object.keys(t.fields),("string"==typeof t.fields[n[0]]||e.isArray(t.fields[n[0]]))&&e.each(t.fields,function(n,i){"string"==typeof i&&(i=[i]),t.fields[n]={rules:[]},e.each(i,function(e,i){t.fields[n].rules.push({type:i})})})),w=e.extend(!0,{},e.fn.form.settings,t),y=e.extend({},e.fn.form.settings.defaults,w.fields),O.verbose("Extending settings",y,w))}else w=e.fn.form.settings,y=e.fn.form.settings.defaults,O.verbose("Using default form validation",y,w);T=w.namespace,C=w.metadata,S=w.selector,k=w.className,_=w.error,A="module-"+T,E="."+T,D=I.data(A),O.refresh()},field:function(t){return O.verbose("Finding field with identifier",t),m.filter("#"+t).length>0?m.filter("#"+t):m.filter('[name="'+t+'"]').length>0?m.filter('[name="'+t+'"]'):m.filter('[name="'+t+'[]"]').length>0?m.filter('[name="'+t+'[]"]'):m.filter("[data-"+C.validate+'="'+t+'"]').length>0?m.filter("[data-"+C.validate+'="'+t+'"]'):e("<input/>")},fields:function(t){var n=e();return e.each(t,function(e,t){n=n.add(O.get.field(t))}),n},validation:function(t){var n,i;return!!y&&(e.each(y,function(e,a){i=a.identifier||e,O.get.field(i)[0]==t[0]&&(a.identifier=i,n=a)}),n||!1)},value:function(e){var t=[];return t.push(e),O.get.values.call(M,t)[e]},values:function(t){var n={};return(e.isArray(t)?O.get.fields(t):m).each(function(t,i){var a=e(i),o=(a.prop("type"),a.prop("name")),r=a.val(),s=a.is(S.checkbox),l=a.is(S.radio),c=-1!==o.indexOf("[]"),d=!!s&&a.is(":checked");o&&(c?(o=o.replace("[]",""),n[o]||(n[o]=[]),s?d?n[o].push(r||!0):n[o].push(!1):n[o].push(r)):l?d&&(n[o]=r):n[o]=s?!!d&&(r||!0):r)}),n}},has:{field:function(e){return O.verbose("Checking for existence of a field with identifier",e),"string"!=typeof e&&O.error(_.identifier,e),m.filter("#"+e).length>0||m.filter('[name="'+e+'"]').length>0||m.filter("[data-"+C.validate+'="'+e+'"]').length>0}},add:{prompt:function(t,n){var a=O.get.field(t).closest(h),o=a.children(S.prompt),r=0!==o.length;n="string"==typeof n?[n]:n,O.verbose("Adding field error state",t),a.addClass(k.error),w.inline&&(r||(o=w.templates.prompt(n)).appendTo(a),o.html(n[0]),r?O.verbose("Inline errors are disabled, no inline error added",t):w.transition&&e.fn.transition!==i&&I.transition("is supported")?(O.verbose("Displaying error with css transition",w.transition),o.transition(w.transition+" in",w.duration)):(O.verbose("Displaying error with fallback javascript animation"),o.fadeIn(w.duration)))},errors:function(e){O.debug("Adding form error messages",e),O.set.error(),v.html(w.templates.error(e))}},remove:{prompt:function(t){var n=O.get.field(t).closest(h),a=n.children(S.prompt);n.removeClass(k.error),w.inline&&a.is(":visible")&&(O.verbose("Removing prompt for field",t),w.transition&&e.fn.transition!==i&&I.transition("is supported")?a.transition(w.transition+" out",w.duration,function(){a.remove()}):a.fadeOut(w.duration,function(){a.remove()}))}},set:{success:function(){I.removeClass(k.error).addClass(k.success)},defaults:function(){m.each(function(){var t=e(this),n=t.filter(S.checkbox).length>0?t.is(":checked"):t.val();t.data(C.defaultValue,n)})},error:function(){I.removeClass(k.success).addClass(k.error)},value:function(e,t){var n={};return n[e]=t,O.set.values.call(M,n)},values:function(t){e.isEmptyObject(t)||e.each(t,function(t,n){var i,a=O.get.field(t),o=a.parent(),r=e.isArray(n),s=o.is(S.uiCheckbox),l=o.is(S.uiDropdown),c=a.is(S.radio)&&s;a.length>0&&(r&&s?(O.verbose("Selecting multiple",n,a),o.checkbox("uncheck"),e.each(n,function(e,t){i=a.filter('[value="'+t+'"]'),o=i.parent(),i.length>0&&o.checkbox("check")})):c?(O.verbose("Selecting radio value",n,a),a.filter('[value="'+n+'"]').parent(S.uiCheckbox).checkbox("check")):s?(O.verbose("Setting checkbox value",n,o),!0===n?o.checkbox("check"):o.checkbox("uncheck")):l?(O.verbose("Setting dropdown value",n,o),o.dropdown("set selected",n)):(O.verbose("Setting field value",n,a),a.val(n)))})}},validate:{form:function(e,t){var n=O.get.values();if(L)return!1;if(B=[],O.is.valid()){if(O.debug("Form has no validation errors, submitting"),O.set.success(),!0!==t)return w.onSuccess.call(M,e,n)}else if(O.debug("Form has errors"),O.set.error(),w.inline||O.add.errors(B),I.data("moduleApi")!==i&&e.stopImmediatePropagation(),!0!==t)return w.onFailure.call(M,B,n)},field:function(t,n){var a=t.identifier||n,o=O.get.field(a),r=!!t.depends&&O.get.field(t.depends),s=!0,l=[];return t.identifier||(O.debug("Using field name as identifier",a),t.identifier=a),o.prop("disabled")?(O.debug("Field is disabled. Skipping",a),s=!0):t.optional&&O.is.blank(o)?(O.debug("Field is optional and blank. Skipping",a),s=!0):t.depends&&O.is.empty(r)?(O.debug("Field depends on another value that is not present or empty. Skipping",r),s=!0):t.rules!==i&&e.each(t.rules,function(e,n){O.has.field(a)&&!O.validate.rule(t,n)&&(O.debug("Field is invalid",a,n.type),l.push(O.get.prompt(n,t)),s=!1)}),s?(O.remove.prompt(a,l),w.onValid.call(o),!0):(B=B.concat(l),O.add.prompt(a,l),w.onInvalid.call(o,l),!1)},rule:function(t,n){var a=O.get.field(t.identifier),o=(n.type,a.val()),r=O.get.ancillaryValue(n),s=O.get.ruleName(n),l=w.rules[s];return e.isFunction(l)?(o=o===i||""===o||null===o?"":e.trim(o+""),l.call(a,o,r)):void O.error(_.noRule,s)}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,w,t);else{if(n===i)return w[t];w[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,O,t);else{if(n===i)return O[t];O[t]=n}},debug:function(){!w.silent&&w.debug&&(w.performance?O.performance.log(arguments):(O.debug=Function.prototype.bind.call(console.info,console,w.name+":"),O.debug.apply(console,arguments)))},verbose:function(){!w.silent&&w.verbose&&w.debug&&(w.performance?O.performance.log(arguments):(O.verbose=Function.prototype.bind.call(console.info,console,w.name+":"),O.verbose.apply(console,arguments)))},error:function(){w.silent||(O.error=Function.prototype.bind.call(console.error,console,w.name+":"),O.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;w.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:M,"Execution Time":n})),clearTimeout(O.performance.timer),O.performance.timer=setTimeout(O.performance.display,500)},display:function(){var t=w.name+":",n=0;s=!1,clearTimeout(O.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),o.length>1&&(t+=" ("+o.length+")"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,o){var r,s,l,c=D;return n=n||f,o=M||o,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,a){var o=n!=r?a+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=r)c=c[o];else{if(c[o]!==i)return s=c[o],!1;if(!e.isPlainObject(c[a])||n==r)return c[a]!==i&&(s=c[a],!1);c=c[a]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),s}}).initialize()}),a!==i?a:this},e.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!1,performance:!0,fields:!1,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{defaultValue:"default",validate:"validate"},regExp:{bracket:/\[(.*)\]/i,decimal:/^\d*(\.)\d+/,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,flags:/^\/(.*)\/(.*)?/,integer:/^\-?\d+$/,number:/^\-?\d*(\.\d+)?$/,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i},text:{unspecifiedRule:"Please enter a valid value",unspecifiedField:"This field"},prompt:{empty:"{name} must have a value",checked:"{name} must be checked",email:"{name} must be a valid e-mail",url:"{name} must be a valid url",regExp:"{name} is not formatted correctly",integer:"{name} must be an integer",decimal:"{name} must be a decimal number",number:"{name} must be set to a number",is:'{name} must be "{ruleValue}"',isExactly:'{name} must be exactly "{ruleValue}"',not:'{name} cannot be set to "{ruleValue}"',notExactly:'{name} cannot be set to exactly "{ruleValue}"',contain:'{name} cannot contain "{ruleValue}"',containExactly:'{name} cannot contain exactly "{ruleValue}"',doesntContain:'{name} must contain  "{ruleValue}"',doesntContainExactly:'{name} must contain exactly "{ruleValue}"',minLength:"{name} must be at least {ruleValue} characters",length:"{name} must be at least {ruleValue} characters",exactLength:"{name} must be exactly {ruleValue} characters",maxLength:"{name} cannot be longer than {ruleValue} characters",match:"{name} must match {ruleValue} field",different:"{name} must have a different value than {ruleValue} field",creditCard:"{name} must be a valid credit card number",minCount:"{name} must have at least {ruleValue} choices",exactCount:"{name} must have exactly {ruleValue} choices",maxCount:"{name} must have {ruleValue} or less choices"},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:'.reset:not([type="reset"])',submit:'.submit:not([type="submit"])',uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown"},className:{error:"error",label:"ui prompt label",pressed:"down",success:"success"},error:{identifier:"You must specify a string identifier for each field",method:"The method you called is not defined.",noRule:"There is no rule matching the one you specified",oldSyntax:"Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically."},templates:{error:function(t){var n='<ul class="list">';return e.each(t,function(e,t){n+="<li>"+t+"</li>"}),n+="</ul>",e(n)},prompt:function(t){return e("<div/>").addClass("ui basic red pointing prompt label").html(t[0])}},rules:{empty:function(t){return!(t===i||""===t||e.isArray(t)&&0===t.length)},checked:function(){return e(this).filter(":checked").length>0},email:function(t){return e.fn.form.settings.regExp.email.test(t)},url:function(t){return e.fn.form.settings.regExp.url.test(t)},regExp:function(t,n){if(n instanceof RegExp)return t.match(n);var i,a=n.match(e.fn.form.settings.regExp.flags);return a&&(n=a.length>=2?a[1]:n,i=a.length>=3?a[2]:""),t.match(new RegExp(n,i))},integer:function(t,n){var a,o,r,s=e.fn.form.settings.regExp.integer;return n&&-1===["",".."].indexOf(n)&&(-1==n.indexOf("..")?s.test(n)&&(a=o=n-0):(r=n.split("..",2),s.test(r[0])&&(a=r[0]-0),s.test(r[1])&&(o=r[1]-0))),s.test(t)&&(a===i||t>=a)&&(o===i||o>=t)},decimal:function(t){return e.fn.form.settings.regExp.decimal.test(t)},number:function(t){return e.fn.form.settings.regExp.number.test(t)},is:function(e,t){return t="string"==typeof t?t.toLowerCase():t,(e="string"==typeof e?e.toLowerCase():e)==t},isExactly:function(e,t){return e==t},not:function(e,t){return e="string"==typeof e?e.toLowerCase():e,t="string"==typeof t?t.toLowerCase():t,e!=t},notExactly:function(e,t){return e!=t},contains:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1!==t.search(new RegExp(n,"i"))},containsExactly:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1!==t.search(new RegExp(n))},doesntContain:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1===t.search(new RegExp(n,"i"))},doesntContainExactly:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1===t.search(new RegExp(n))},minLength:function(e,t){return e!==i&&e.length>=t},length:function(e,t){return e!==i&&e.length>=t},exactLength:function(e,t){return e!==i&&e.length==t},maxLength:function(e,t){return e!==i&&e.length<=t},match:function(t,n){var a;return e(this),e('[data-validate="'+n+'"]').length>0?a=e('[data-validate="'+n+'"]').val():e("#"+n).length>0?a=e("#"+n).val():e('[name="'+n+'"]').length>0?a=e('[name="'+n+'"]').val():e('[name="'+n+'[]"]').length>0&&(a=e('[name="'+n+'[]"]')),a!==i&&t.toString()==a.toString()},different:function(t,n){var a;return e(this),e('[data-validate="'+n+'"]').length>0?a=e('[data-validate="'+n+'"]').val():e("#"+n).length>0?a=e("#"+n).val():e('[name="'+n+'"]').length>0?a=e('[name="'+n+'"]').val():e('[name="'+n+'[]"]').length>0&&(a=e('[name="'+n+'[]"]')),a!==i&&t.toString()!==a.toString()},creditCard:function(t,n){var i,a,o={visa:{pattern:/^4/,length:[16]},amex:{pattern:/^3[47]/,length:[15]},mastercard:{pattern:/^5[1-5]/,length:[16]},discover:{pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,length:[16]},unionPay:{pattern:/^(62|88)/,length:[16,17,18,19]},jcb:{pattern:/^35(2[89]|[3-8][0-9])/,length:[16]},maestro:{pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,length:[12,13,14,15,16,17,18,19]},dinersClub:{pattern:/^(30[0-5]|^36)/,length:[14]},laser:{pattern:/^(6304|670[69]|6771)/,length:[16,17,18,19]},visaElectron:{pattern:/^(4026|417500|4508|4844|491(3|7))/,length:[16]}},r={},s=!1,l="string"==typeof n&&n.split(",");if("string"==typeof t&&0!==t.length){if(l&&(e.each(l,function(n,i){(a=o[i])&&(r={length:-1!==e.inArray(t.length,a.length),pattern:-1!==t.search(a.pattern)}).length&&r.pattern&&(s=!0)}),!s))return!1;if((i={number:-1!==e.inArray(t.length,o.unionPay.length),pattern:-1!==t.search(o.unionPay.pattern)}).number&&i.pattern)return!0;for(var c=t.length,d=0,u=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],f=0;c--;)f+=u[d][parseInt(t.charAt(c),10)],d^=1;return f%10==0&&f>0}},minCount:function(e,t){return 0==t||(1==t?""!==e:e.split(",").length>=t)},exactCount:function(e,t){return 0==t?""===e:1==t?""!==e&&-1===e.search(","):e.split(",").length==t},maxCount:function(e,t){
return 0!=t&&(1==t?-1===e.search(","):e.split(",").length<=t)}}}}(jQuery,window,document),$(".ui.form input").focus(function(){$(this).parent().removeClass("error")}),$(".ui.form .dropdown, .ui.checkbox").click(function(){$(this).parent().removeClass("error")}),!function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.dropdown=function(a){var o,r=e(this),s=e(n),l=r.selector||"",c="ontouchstart"in n.documentElement,d=(new Date).getTime(),u=[],f=arguments[0],m="string"==typeof f,h=[].slice.call(arguments,1);return r.each(function(v){var p,g,b,x,w,y,C,S,k=e.isPlainObject(a)?e.extend(!0,{},e.fn.dropdown.settings,a):e.extend({},e.fn.dropdown.settings),_=k.className,T=k.message,A=k.fields,E=k.keys,D=k.metadata,O=k.namespace,I=k.regExp,M=k.selector,B=k.error,L=k.templates,R="."+O,z="module-"+O,q=e(this),P=e(k.context),F=q.find(M.text),V=q.find(M.search),H=q.find(M.sizer),j=q.find(M.input),W=q.find(M.icon),U=q.prev().find(M.text).length>0?q.prev().find(M.text):q.prev(),N=q.children(M.menu),$=N.find(M.item),Y=!1,X=!1,K=!1,Q=this,Z=q.data(z);S={initialize:function(){S.debug("Initializing dropdown",k),S.is.alreadySetup()?S.setup.reference():(S.setup.layout(),S.refreshData(),S.save.defaults(),S.restore.selected(),S.create.id(),S.bind.events(),S.observeChanges(),S.instantiate())},instantiate:function(){S.verbose("Storing instance of dropdown",S),Z=S,q.data(z,S)},destroy:function(){S.verbose("Destroying previous dropdown",q),S.remove.tabbable(),q.off(R).removeData(z),N.off(R),s.off(x),S.disconnect.menuObserver(),S.disconnect.selectObserver()},observeChanges:function(){"MutationObserver"in t&&(y=new MutationObserver(S.event.select.mutation),C=new MutationObserver(S.event.menu.mutation),S.debug("Setting up mutation observer",y,C),S.observe.select(),S.observe.menu())},disconnect:{menuObserver:function(){C&&C.disconnect()},selectObserver:function(){y&&y.disconnect()}},observe:{select:function(){S.has.input()&&y.observe(j[0],{childList:!0,subtree:!0})},menu:function(){S.has.menu()&&C.observe(N[0],{childList:!0,subtree:!0})}},create:{id:function(){w=(Math.random().toString(16)+"000000000").substr(2,8),x="."+w,S.verbose("Creating unique id for element",w)},userChoice:function(t){var n,a,o;return!!(t=t||S.get.userValues())&&(t=e.isArray(t)?t:[t],e.each(t,function(t,r){!1===S.get.item(r)&&(o=k.templates.addition(S.add.variables(T.addResult,r)),a=e("<div />").html(o).attr("data-"+D.value,r).attr("data-"+D.text,r).addClass(_.addition).addClass(_.item),k.hideAdditions&&a.addClass(_.hidden),n=n===i?a:n.add(a),S.verbose("Creating user choices for value",r,a))}),n)},userLabels:function(t){var n=S.get.userValues();n&&(S.debug("Adding user labels",n),e.each(n,function(e,t){S.verbose("Adding custom user value"),S.add.label(t,t)}))},menu:function(){N=e("<div />").addClass(_.menu).appendTo(q)},sizer:function(){H=e("<span />").addClass(_.sizer).insertAfter(V)}},search:function(e){e=e!==i?e:S.get.query(),S.verbose("Searching for query",e),S.has.minCharacters(e)?S.filter(e):S.hide()},select:{firstUnfiltered:function(){S.verbose("Selecting first non-filtered element"),S.remove.selectedItem(),$.not(M.unselectable).not(M.addition+M.hidden).eq(0).addClass(_.selected)},nextAvailable:function(e){var t=(e=e.eq(0)).nextAll(M.item).not(M.unselectable).eq(0),n=e.prevAll(M.item).not(M.unselectable).eq(0);t.length>0?(S.verbose("Moving selection to",t),t.addClass(_.selected)):(S.verbose("Moving selection to",n),n.addClass(_.selected))}},setup:{api:function(){var e={debug:k.debug,urlData:{value:S.get.value(),query:S.get.query()},on:!1};S.verbose("First request, initializing API"),q.api(e)},layout:function(){q.is("select")&&(S.setup.select(),S.setup.returnedObject()),S.has.menu()||S.create.menu(),S.is.search()&&!S.has.search()&&(S.verbose("Adding search input"),V=e("<input />").addClass(_.search).prop("autocomplete","off").insertBefore(F)),S.is.multiple()&&S.is.searchSelection()&&!S.has.sizer()&&S.create.sizer(),k.allowTab&&S.set.tabbable()},select:function(){var t=S.get.selectValues();S.debug("Dropdown initialized on a select",t),q.is("select")&&(j=q),j.parent(M.dropdown).length>0?(S.debug("UI dropdown already exists. Creating dropdown menu only"),q=j.closest(M.dropdown),S.has.menu()||S.create.menu(),N=q.children(M.menu),S.setup.menu(t)):(S.debug("Creating entire dropdown from select"),q=e("<div />").attr("class",j.attr("class")).addClass(_.selection).addClass(_.dropdown).html(L.dropdown(t)).insertBefore(j),j.hasClass(_.multiple)&&!1===j.prop("multiple")&&(S.error(B.missingMultiple),j.prop("multiple",!0)),j.is("[multiple]")&&S.set.multiple(),j.prop("disabled")&&(S.debug("Disabling dropdown"),q.addClass(_.disabled)),j.removeAttr("class").detach().prependTo(q)),S.refresh()},menu:function(e){N.html(L.menu(e,A)),$=N.find(M.item)},reference:function(){S.debug("Dropdown behavior was called on select, replacing with closest dropdown"),q=q.parent(M.dropdown),S.refresh(),S.setup.returnedObject(),m&&(Z=S,S.invoke(f))},returnedObject:function(){var e=r.slice(0,v),t=r.slice(v+1);r=e.add(q).add(t)}},refresh:function(){S.refreshSelectors(),S.refreshData()},refreshItems:function(){$=N.find(M.item)},refreshSelectors:function(){S.verbose("Refreshing selector cache"),F=q.find(M.text),V=q.find(M.search),j=q.find(M.input),W=q.find(M.icon),U=q.prev().find(M.text).length>0?q.prev().find(M.text):q.prev(),N=q.children(M.menu),$=N.find(M.item)},refreshData:function(){S.verbose("Refreshing cached metadata"),$.removeData(D.text).removeData(D.value)},clearData:function(){S.verbose("Clearing metadata"),$.removeData(D.text).removeData(D.value),q.removeData(D.defaultText).removeData(D.defaultValue).removeData(D.placeholderText)},toggle:function(){S.verbose("Toggling menu visibility"),S.is.active()?S.hide():S.show()},show:function(t){if(t=e.isFunction(t)?t:function(){},S.can.show()&&!S.is.active()){if(S.debug("Showing dropdown"),!S.has.message()||S.has.maxSelections()||S.has.allResultsFiltered()||S.remove.message(),S.is.allFiltered())return!0;!1!==k.onShow.call(Q)&&S.animate.show(function(){S.can.click()&&S.bind.intent(),S.has.menuSearch()&&S.focusSearch(),S.set.visible(),t.call(Q)})}},hide:function(t){t=e.isFunction(t)?t:function(){},S.is.active()&&(S.debug("Hiding dropdown"),!1!==k.onHide.call(Q)&&S.animate.hide(function(){S.remove.visible(),t.call(Q)}))},hideOthers:function(){S.verbose("Finding other dropdowns to hide"),r.not(q).has(M.menu+"."+_.visible).dropdown("hide")},hideMenu:function(){S.verbose("Hiding menu  instantaneously"),S.remove.active(),S.remove.visible(),N.transition("hide")},hideSubMenus:function(){var e=N.children(M.item).find(M.menu);S.verbose("Hiding sub menus",e),e.transition("hide")},bind:{events:function(){c&&S.bind.touchEvents(),S.bind.keyboardEvents(),S.bind.inputEvents(),S.bind.mouseEvents()},touchEvents:function(){S.debug("Touch device detected binding additional touch events"),S.is.searchSelection()||S.is.single()&&q.on("touchstart"+R,S.event.test.toggle),N.on("touchstart"+R,M.item,S.event.item.mouseenter)},keyboardEvents:function(){S.verbose("Binding keyboard events"),q.on("keydown"+R,S.event.keydown),S.has.search()&&q.on(S.get.inputEvent()+R,M.search,S.event.input),S.is.multiple()&&s.on("keydown"+x,S.event.document.keydown)},inputEvents:function(){S.verbose("Binding input change events"),q.on("change"+R,M.input,S.event.change)},mouseEvents:function(){S.verbose("Binding mouse events"),S.is.multiple()&&q.on("click"+R,M.label,S.event.label.click).on("click"+R,M.remove,S.event.remove.click),S.is.searchSelection()?(q.on("mousedown"+R,S.event.mousedown).on("mouseup"+R,S.event.mouseup).on("mousedown"+R,M.menu,S.event.menu.mousedown).on("mouseup"+R,M.menu,S.event.menu.mouseup).on("click"+R,M.icon,S.event.icon.click).on("focus"+R,M.search,S.event.search.focus).on("click"+R,M.search,S.event.search.focus).on("blur"+R,M.search,S.event.search.blur).on("click"+R,M.text,S.event.text.focus),S.is.multiple()&&q.on("click"+R,S.event.click)):("click"==k.on?q.on("click"+R,M.icon,S.event.icon.click).on("click"+R,S.event.test.toggle):"hover"==k.on?q.on("mouseenter"+R,S.delay.show).on("mouseleave"+R,S.delay.hide):q.on(k.on+R,S.toggle),q.on("mousedown"+R,S.event.mousedown).on("mouseup"+R,S.event.mouseup).on("focus"+R,S.event.focus).on("blur"+R,S.event.blur)),N.on("mouseenter"+R,M.item,S.event.item.mouseenter).on("mouseleave"+R,M.item,S.event.item.mouseleave).on("click"+R,M.item,S.event.item.click)},intent:function(){S.verbose("Binding hide intent event to document"),c&&s.on("touchstart"+x,S.event.test.touch).on("touchmove"+x,S.event.test.touch),s.on("click"+x,S.event.test.hide)}},unbind:{intent:function(){S.verbose("Removing hide intent event from document"),c&&s.off("touchstart"+x).off("touchmove"+x),s.off("click"+x)}},filter:function(e){var t=e!==i?e:S.get.query(),n=function(){S.is.multiple()&&S.filterActive(),S.select.firstUnfiltered(),S.has.allResultsFiltered()?k.onNoResults.call(Q,t)?k.allowAdditions?k.hideAdditions&&(S.verbose("User addition with no menu, setting empty style"),S.set.empty(),S.hideMenu()):(S.verbose("All items filtered, showing message",t),S.add.message(T.noResults)):(S.verbose("All items filtered, hiding dropdown",t),S.hideMenu()):(S.remove.empty(),S.remove.message()),k.allowAdditions&&S.add.userSuggestion(e),S.is.searchSelection()&&S.can.show()&&S.is.focusedOnSearch()&&S.show()};k.useLabels&&S.has.maxSelections()||(k.apiSettings?S.can.useAPI()?S.queryRemote(t,function(){n()}):S.error(B.noAPI):(S.filterItems(t),n()))},queryRemote:function(t,n){var i={errorDuration:!1,cache:"local",throttle:k.throttle,urlData:{query:t},onError:function(){S.add.message(T.serverError),n()},onFailure:function(){S.add.message(T.serverError),n()},onSuccess:function(e){S.remove.message(),S.setup.menu({values:e[A.remoteValues]}),n()}};q.api("get request")||S.setup.api(),i=e.extend(!0,{},i,k.apiSettings),q.api("setting",i).api("query")},filterItems:function(t){var n=t!==i?t:S.get.query(),a=null,o=S.escape.regExp(n),r=new RegExp("^"+o,"igm");S.has.query()&&(a=[],S.verbose("Searching for matching values",n),$.each(function(){var t,i,o=e(this);if("both"==k.match||"text"==k.match){if(-1!==(t=String(S.get.choiceText(o,!1))).search(r))return a.push(this),!0;if("exact"===k.fullTextSearch&&S.exactSearch(n,t))return a.push(this),!0;if(!0===k.fullTextSearch&&S.fuzzySearch(n,t))return a.push(this),!0}if("both"==k.match||"value"==k.match){if(-1!==(i=String(S.get.choiceValue(o,t))).search(r))return a.push(this),!0;if(k.fullTextSearch&&S.fuzzySearch(n,i))return a.push(this),!0}})),S.debug("Showing only matched items",n),S.remove.filteredItem(),a&&$.not(a).addClass(_.filtered)},fuzzySearch:function(e,t){var n=t.length,i=e.length;if(e=e.toLowerCase(),t=t.toLowerCase(),i>n)return!1;if(i===n)return e===t;e:for(var a=0,o=0;a<i;a++){for(var r=e.charCodeAt(a);o<n;)if(t.charCodeAt(o++)===r)continue e;return!1}return!0},exactSearch:function(e,t){return e=e.toLowerCase(),(t=t.toLowerCase()).indexOf(e)>-1},filterActive:function(){k.useLabels&&$.filter("."+_.active).addClass(_.filtered)},focusSearch:function(e){S.has.search()&&!S.is.focusedOnSearch()&&(e?(q.off("focus"+R,M.search),V.focus(),q.on("focus"+R,M.search,S.event.search.focus)):V.focus())},forceSelection:function(){var e=$.not(_.filtered).filter("."+_.selected).eq(0),t=$.not(_.filtered).filter("."+_.active).eq(0),n=e.length>0?e:t;return n.length>0?(S.debug("Forcing partial selection to selected item",n),void S.event.item.click.call(n,{},!0)):void(k.allowAdditions?(S.set.selected(S.get.query()),S.remove.searchTerm()):S.remove.searchTerm())},event:{change:function(){K||(S.debug("Input changed, updating selection"),S.set.selected())},focus:function(){k.showOnFocus&&!Y&&S.is.hidden()&&!g&&S.show()},blur:function(e){g=n.activeElement===this,Y||g||(S.remove.activeLabel(),S.hide())},mousedown:function(){S.is.searchSelection()?b=!0:Y=!0},mouseup:function(){S.is.searchSelection()?b=!1:Y=!1},click:function(t){e(t.target).is(q)&&(S.is.focusedOnSearch()?S.show():S.focusSearch())},search:{focus:function(){Y=!0,S.is.multiple()&&S.remove.activeLabel(),k.showOnFocus&&S.search()},blur:function(e){g=n.activeElement===this,b||X||g||(k.forceSelection&&S.forceSelection(),S.hide()),b=!1}},icon:{click:function(e){S.toggle()}},text:{focus:function(e){Y=!0,S.focusSearch()}},input:function(e){(S.is.multiple()||S.is.searchSelection())&&S.set.filtered(),clearTimeout(S.timer),S.timer=setTimeout(S.search,k.delay.search)},label:{click:function(t){var n=e(this),i=q.find(M.label),a=i.filter("."+_.active),o=n.nextAll("."+_.active),r=n.prevAll("."+_.active),s=o.length>0?n.nextUntil(o).add(a).add(n):n.prevUntil(r).add(a).add(n);t.shiftKey?(a.removeClass(_.active),s.addClass(_.active)):t.ctrlKey?n.toggleClass(_.active):(a.removeClass(_.active),n.addClass(_.active)),k.onLabelSelect.apply(this,i.filter("."+_.active))}},remove:{click:function(){var t=e(this).parent();t.hasClass(_.active)?S.remove.activeLabels():S.remove.activeLabels(t)}},test:{toggle:function(e){var t=S.is.multiple()?S.show:S.toggle;S.is.bubbledLabelClick(e)||S.is.bubbledIconClick(e)||S.determine.eventOnElement(e,t)&&e.preventDefault()},touch:function(e){S.determine.eventOnElement(e,function(){"touchstart"==e.type?S.timer=setTimeout(function(){S.hide()},k.delay.touch):"touchmove"==e.type&&clearTimeout(S.timer)}),e.stopPropagation()},hide:function(e){S.determine.eventInModule(e,S.hide)}},select:{mutation:function(e){S.debug("<select> modified, recreating menu"),S.setup.select()}},menu:{mutation:function(t){var n=t[0],i=e(!!n.addedNodes&&n.addedNodes[0]),a=e(!!n.removedNodes&&n.removedNodes[0]),o=i.add(a),r=o.is(M.addition)||o.closest(M.addition).length>0,s=o.is(M.message)||o.closest(M.message).length>0;r||s?(S.debug("Updating item selector cache"),S.refreshItems()):(S.debug("Menu modified, updating selector cache"),S.refresh())},mousedown:function(){X=!0},mouseup:function(){X=!1}},item:{mouseenter:function(t){var n=e(t.target),i=e(this),a=i.children(M.menu),o=i.siblings(M.item).children(M.menu),r=a.length>0;!(a.find(n).length>0)&&r&&(clearTimeout(S.itemTimer),S.itemTimer=setTimeout(function(){S.verbose("Showing sub-menu",a),e.each(o,function(){S.animate.hide(!1,e(this))}),S.animate.show(!1,a)},k.delay.show),t.preventDefault())},mouseleave:function(t){var n=e(this).children(M.menu);n.length>0&&(clearTimeout(S.itemTimer),S.itemTimer=setTimeout(function(){S.verbose("Hiding sub-menu",n),S.animate.hide(!1,n)},k.delay.hide))},click:function(t,n){var i=e(this),a=e(t?t.target:""),o=i.find(M.menu),r=S.get.choiceText(i),s=S.get.choiceValue(i,r),l=o.length>0;o.find(a).length>0||l&&!k.allowCategorySelection||(S.is.searchSelection()&&(k.allowAdditions&&S.remove.userAddition(),S.remove.searchTerm(),S.is.focusedOnSearch()||1==n||S.focusSearch(!0)),k.useLabels||(S.remove.filteredItem(),S.set.scrollPosition(i)),S.determine.selectAction.call(this,r,s))}},document:{keydown:function(e){var t=e.which;if(S.is.inObject(t,E)){var n=q.find(M.label),i=n.filter("."+_.active),a=(i.data(D.value),n.index(i)),o=n.length,r=i.length>0,s=i.length>1,l=0===a,c=a+1==o,d=S.is.searchSelection(),u=S.is.focusedOnSearch(),f=S.is.focused(),m=u&&0===S.get.caretPosition();if(d&&!r&&!u)return;t==E.leftArrow?!f&&!m||r?r&&(e.shiftKey?S.verbose("Adding previous label to selection"):(S.verbose("Selecting previous label"),n.removeClass(_.active)),l&&!s?i.addClass(_.active):i.prev(M.siblingLabel).addClass(_.active).end(),e.preventDefault()):(S.verbose("Selecting previous label"),n.last().addClass(_.active)):t==E.rightArrow?(f&&!r&&n.first().addClass(_.active),r&&(e.shiftKey?S.verbose("Adding next label to selection"):(S.verbose("Selecting next label"),n.removeClass(_.active)),c?d?u?n.removeClass(_.active):S.focusSearch():s?i.next(M.siblingLabel).addClass(_.active):i.addClass(_.active):i.next(M.siblingLabel).addClass(_.active),e.preventDefault())):t==E.deleteKey||t==E.backspace?r?(S.verbose("Removing active labels"),c&&d&&!u&&S.focusSearch(),i.last().next(M.siblingLabel).addClass(_.active),S.remove.activeLabels(i),e.preventDefault()):m&&!r&&t==E.backspace&&(S.verbose("Removing last label on input backspace"),i=n.last().addClass(_.active),S.remove.activeLabels(i)):i.removeClass(_.active)}}},keydown:function(e){var t=e.which;if(S.is.inObject(t,E)){var n,i=$.not(M.unselectable).filter("."+_.selected).eq(0),a=N.children("."+_.active).eq(0),o=i.length>0?i:a,r=o.length>0?o.siblings(":not(."+_.filtered+")").addBack():N.children(":not(."+_.filtered+")"),s=o.children(M.menu),l=o.closest(M.menu),c=l.hasClass(_.visible)||l.hasClass(_.animating)||l.parent(M.menu).length>0,d=s.length>0,u=o.length>0,f=o.not(M.unselectable).length>0,m=t==E.delimiter&&k.allowAdditions&&S.is.multiple();if(k.allowAdditions&&k.hideAdditions&&(t==E.enter||m)&&f&&(S.verbose("Selecting item from keyboard shortcut",o),S.event.item.click.call(o,e),S.is.searchSelection()&&S.remove.searchTerm()),S.is.visible()){if((t==E.enter||m)&&(t==E.enter&&u&&d&&!k.allowCategorySelection?(S.verbose("Pressed enter on unselectable category, opening sub menu"),t=E.rightArrow):f&&(S.verbose("Selecting item from keyboard shortcut",o),S.event.item.click.call(o,e),S.is.searchSelection()&&S.remove.searchTerm()),e.preventDefault()),u&&(t==E.leftArrow&&l[0]!==N[0]&&(S.verbose("Left key pressed, closing sub-menu"),S.animate.hide(!1,l),o.removeClass(_.selected),l.closest(M.item).addClass(_.selected),e.preventDefault()),t==E.rightArrow&&d&&(S.verbose("Right key pressed, opening sub-menu"),S.animate.show(!1,s),o.removeClass(_.selected),s.find(M.item).eq(0).addClass(_.selected),e.preventDefault())),t==E.upArrow){if(n=u&&c?o.prevAll(M.item+":not("+M.unselectable+")").eq(0):$.eq(0),r.index(n)<0)return S.verbose("Up key pressed but reached top of current menu"),void e.preventDefault();S.verbose("Up key pressed, changing active item"),o.removeClass(_.selected),n.addClass(_.selected),S.set.scrollPosition(n),k.selectOnKeydown&&S.is.single()&&S.set.selectedItem(n),e.preventDefault()}if(t==E.downArrow){if(0===(n=u&&c?n=o.nextAll(M.item+":not("+M.unselectable+")").eq(0):$.eq(0)).length)return S.verbose("Down key pressed but reached bottom of current menu"),void e.preventDefault();S.verbose("Down key pressed, changing active item"),$.removeClass(_.selected),n.addClass(_.selected),S.set.scrollPosition(n),k.selectOnKeydown&&S.is.single()&&S.set.selectedItem(n),e.preventDefault()}t==E.pageUp&&(S.scrollPage("up"),e.preventDefault()),t==E.pageDown&&(S.scrollPage("down"),e.preventDefault()),t==E.escape&&(S.verbose("Escape key pressed, closing dropdown"),S.hide())}else m&&e.preventDefault(),t!=E.downArrow||S.is.visible()||(S.verbose("Down key pressed, showing dropdown"),S.select.firstUnfiltered(),S.show(),e.preventDefault())}else S.has.search()||S.set.selectedLetter(String.fromCharCode(t))}},trigger:{change:function(){var e=n.createEvent("HTMLEvents"),t=j[0];t&&(S.verbose("Triggering native change event"),e.initEvent("change",!0,!1),t.dispatchEvent(e))}},determine:{selectAction:function(t,n){S.verbose("Determining action",k.action),e.isFunction(S.action[k.action])?(S.verbose("Triggering preset action",k.action,t,n),S.action[k.action].call(Q,t,n,this)):e.isFunction(k.action)?(S.verbose("Triggering user action",k.action,t,n),k.action.call(Q,t,n,this)):S.error(B.action,k.action)},eventInModule:function(t,i){var a=e(t.target),o=a.closest(n.documentElement).length>0,r=a.closest(q).length>0;return i=e.isFunction(i)?i:function(){},o&&!r?(S.verbose("Triggering event",i),i(),!0):(S.verbose("Event occurred in dropdown, canceling callback"),!1)},eventOnElement:function(t,i){var a=e(t.target),o=a.closest(M.siblingLabel),r=n.body.contains(t.target),s=0===q.find(o).length,l=0===a.closest(N).length;return i=e.isFunction(i)?i:function(){},r&&s&&l?(S.verbose("Triggering event",i),i(),!0):(S.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(t,n,a){if(n=n!==i?n:t,S.can.activate(e(a))){if(S.set.selected(n,e(a)),S.is.multiple()&&!S.is.allFiltered())return;S.hideAndClear()}},select:function(t,n,a){if(n=n!==i?n:t,S.can.activate(e(a))){if(S.set.value(n,e(a)),S.is.multiple()&&!S.is.allFiltered())return;S.hideAndClear()}},combo:function(t,n,a){n=n!==i?n:t,S.set.selected(n,e(a)),S.hideAndClear()},hide:function(e,t,n){S.set.value(t,e),S.hideAndClear()}},get:{id:function(){return w},defaultText:function(){return q.data(D.defaultText)},defaultValue:function(){return q.data(D.defaultValue)},placeholderText:function(){return q.data(D.placeholderText)||""},text:function(){return F.text()},query:function(){return e.trim(V.val())},searchWidth:function(e){return e=e!==i?e:V.val(),H.text(e),Math.ceil(H.width()+1)},selectionCount:function(){var t=S.get.values();return S.is.multiple()?e.isArray(t)?t.length:0:""!==S.get.value()?1:0},transition:function(e){return"auto"==k.transition?S.is.upward(e)?"slide up":"slide down":k.transition},userValues:function(){var t=S.get.values();return!!t&&(t=e.isArray(t)?t:[t],e.grep(t,function(e){return!1===S.get.item(e)}))},uniqueArray:function(t){return e.grep(t,function(n,i){return e.inArray(n,t)===i})},caretPosition:function(){var e,t,i=V.get(0);return"selectionStart"in i?i.selectionStart:n.selection?(i.focus(),e=n.selection.createRange(),t=e.text.length,e.moveStart("character",-i.value.length),e.text.length-t):void 0},value:function(){var t=j.length>0?j.val():q.data(D.value),n=e.isArray(t)&&1===t.length&&""===t[0];return t===i||n?"":t},values:function(){var e=S.get.value();return""===e?"":!S.has.selectInput()&&S.is.multiple()?"string"==typeof e?e.split(k.delimiter):"":e},remoteValues:function(){var t=S.get.values(),n=!1;return t&&("string"==typeof t&&(t=[t]),e.each(t,function(e,t){var i=S.read.remoteData(t);S.verbose("Restoring value from session data",i,t),i&&(n||(n={}),n[t]=i)})),n},choiceText:function(t,n){if(n=n!==i?n:k.preserveHTML,t)return t.find(M.menu).length>0&&(S.verbose("Retrieving text of element with sub-menu"),(t=t.clone()).find(M.menu).remove(),t.find(M.menuIcon).remove()),t.data(D.text)!==i?t.data(D.text):n?e.trim(t.html()):e.trim(t.text())},choiceValue:function(t,n){return n=n||S.get.choiceText(t),!!t&&(t.data(D.value)!==i?String(t.data(D.value)):"string"==typeof n?e.trim(n.toLowerCase()):String(n))},inputEvent:function(){var e=V[0];return!!e&&(e.oninput!==i?"input":e.onpropertychange!==i?"propertychange":"keyup")},selectValues:function(){var t={};return t.values=[],q.find("option").each(function(){var n=e(this),a=n.html(),o=n.attr("disabled"),r=n.attr("value")!==i?n.attr("value"):a;"auto"===k.placeholder&&""===r?t.placeholder=a:t.values.push({name:a,value:r,disabled:o})}),k.placeholder&&"auto"!==k.placeholder&&(S.debug("Setting placeholder value to",k.placeholder),t.placeholder=k.placeholder),k.sortSelect?(t.values.sort(function(e,t){return e.name>t.name?1:-1}),S.debug("Retrieved and sorted values from select",t)):S.debug("Retrieved values from select",t),t},activeItem:function(){return $.filter("."+_.active)},selectedItem:function(){var e=$.not(M.unselectable).filter("."+_.selected);return e.length>0?e:$.eq(0)},itemWithAdditions:function(e){var t=S.get.item(e),n=S.create.userChoice(e);return n&&n.length>0&&(t=t.length>0?t.add(n):n),t},item:function(t,n){var a,o,r=!1;return t=t!==i?t:S.get.values()!==i?S.get.values():S.get.text(),a=o?t.length>0:t!==i&&null!==t,o=S.is.multiple()&&e.isArray(t),n=""===t||0===t||n||!1,a&&$.each(function(){var a=e(this),s=S.get.choiceText(a),l=S.get.choiceValue(a,s);if(null!==l&&l!==i)if(o)-1===e.inArray(String(l),t)&&-1===e.inArray(s,t)||(r=r?r.add(a):a);else if(n){if(S.verbose("Ambiguous dropdown value using strict type check",a,t),l===t||s===t)return r=a,!0}else if(String(l)==String(t)||s==t)return S.verbose("Found select item by value",l,t),r=a,!0}),r}},check:{maxSelections:function(e){return!k.maxSelections||(e=e!==i?e:S.get.selectionCount(),e>=k.maxSelections?(S.debug("Maximum selection count reached"),k.useLabels&&($.addClass(_.filtered),S.add.message(T.maxSelections)),!0):(S.verbose("No longer at maximum selection count"),S.remove.message(),S.remove.filteredItem(),S.is.searchSelection()&&S.filterItems(),!1))}},restore:{defaults:function(){S.clear(),S.restore.defaultText(),S.restore.defaultValue()},defaultText:function(){var e=S.get.defaultText();e===S.get.placeholderText?(S.debug("Restoring default placeholder text",e),S.set.placeholderText(e)):(S.debug("Restoring default text",e),S.set.text(e))},placeholderText:function(){S.set.placeholderText()},defaultValue:function(){var e=S.get.defaultValue();e!==i&&(S.debug("Restoring default value",e),""!==e?(S.set.value(e),S.set.selected()):(S.remove.activeItem(),S.remove.selectedItem()))},labels:function(){k.allowAdditions&&(k.useLabels||(S.error(B.labels),k.useLabels=!0),S.debug("Restoring selected values"),S.create.userLabels()),S.check.maxSelections()},selected:function(){S.restore.values(),S.is.multiple()?(S.debug("Restoring previously selected values and labels"),S.restore.labels()):S.debug("Restoring previously selected values")},values:function(){S.set.initialLoad(),k.apiSettings&&k.saveRemoteData&&S.get.remoteValues()?S.restore.remoteValues():S.set.selected(),S.remove.initialLoad()},remoteValues:function(){var t=S.get.remoteValues();S.debug("Recreating selected from session data",t),t&&(S.is.single()?e.each(t,function(e,t){S.set.text(t)}):e.each(t,function(e,t){S.add.label(e,t)}))}},read:{remoteData:function(e){var n;return t.Storage===i?void S.error(B.noStorage):(n=sessionStorage.getItem(e))!==i&&n}},save:{defaults:function(){S.save.defaultText(),S.save.placeholderText(),S.save.defaultValue()},defaultValue:function(){var e=S.get.value();S.verbose("Saving default value as",e),q.data(D.defaultValue,e)},defaultText:function(){var e=S.get.text();S.verbose("Saving default text as",e),q.data(D.defaultText,e)},placeholderText:function(){var e;!1!==k.placeholder&&F.hasClass(_.placeholder)&&(e=S.get.text(),S.verbose("Saving placeholder text as",e),q.data(D.placeholderText,e))},remoteData:function(e,n){return t.Storage===i?void S.error(B.noStorage):(S.verbose("Saving remote data to session storage",n,e),void sessionStorage.setItem(n,e))}},clear:function(){S.is.multiple()&&k.useLabels?S.remove.labels():(S.remove.activeItem(),S.remove.selectedItem()),S.set.placeholderText(),S.clearValue()},clearValue:function(){S.set.value("")},scrollPage:function(e,t){var n,i,a=t||S.get.selectedItem(),o=a.closest(M.menu),r=o.outerHeight(),s=o.scrollTop(),l=$.eq(0).outerHeight(),c=Math.floor(r/l),d=(o.prop("scrollHeight"),"up"==e?s-l*c:s+l*c),u=$.not(M.unselectable);i="up"==e?u.index(a)-c:u.index(a)+c,(n=("up"==e?i>=0:i<u.length)?u.eq(i):"up"==e?u.first():u.last()).length>0&&(S.debug("Scrolling page",e,n),a.removeClass(_.selected),n.addClass(_.selected),k.selectOnKeydown&&S.is.single()&&S.set.selectedItem(n),o.scrollTop(d))},set:{filtered:function(){var e=S.is.multiple(),t=S.is.searchSelection(),n=e&&t,i=t?S.get.query():"",a="string"==typeof i&&i.length>0,o=S.get.searchWidth(),r=""!==i;e&&a&&(S.verbose("Adjusting input width",o,k.glyphWidth),V.css("width",o)),a||n&&r?(S.verbose("Hiding placeholder text"),F.addClass(_.filtered)):(!e||n&&!r)&&(S.verbose("Showing placeholder text"),F.removeClass(_.filtered))},empty:function(){q.addClass(_.empty)},loading:function(){q.addClass(_.loading)},placeholderText:function(e){e=e||S.get.placeholderText(),S.debug("Setting placeholder text",e),S.set.text(e),F.addClass(_.placeholder)},tabbable:function(){S.has.search()?(S.debug("Added tabindex to searchable dropdown"),V.val("").attr("tabindex",0),N.attr("tabindex",-1)):(S.debug("Added tabindex to dropdown"),q.attr("tabindex")===i&&(q.attr("tabindex",0),N.attr("tabindex",-1)))},initialLoad:function(){S.verbose("Setting initial load"),p=!0},activeItem:function(e){k.allowAdditions&&e.filter(M.addition).length>0?e.addClass(_.filtered):e.addClass(_.active)},partialSearch:function(e){var t=S.get.query().length;V.val(e.substr(0,t))},scrollPosition:function(e,t){var n,a,o,r,s,l,c,d,u;n=(e=e||S.get.selectedItem()).closest(M.menu),a=e&&e.length>0,t=t!==i&&t,e&&n.length>0&&a&&(r=e.position().top,n.addClass(_.loading),l=n.scrollTop(),s=n.offset().top,r=e.offset().top,o=l-s+r,t||(c=n.height(),u=l+c<o+5,d=o-5<l),S.debug("Scrolling to active item",o),(t||d||u)&&n.scrollTop(o),n.removeClass(_.loading))},text:function(e){"select"!==k.action&&("combo"==k.action?(S.debug("Changing combo button text",e,U),k.preserveHTML?U.html(e):U.text(e)):(e!==S.get.placeholderText()&&F.removeClass(_.placeholder),S.debug("Changing text",e,F),F.removeClass(_.filtered),k.preserveHTML?F.html(e):F.text(e)))},selectedItem:function(e){var t=S.get.choiceValue(e),n=S.get.choiceText(e,!1);S.debug("Setting user selection to item",e),S.remove.activeItem(),S.set.partialSearch(n),S.set.activeItem(e),S.set.selected(t,e),S.set.text(n)},selectedLetter:function(t){var n,i=$.filter("."+_.selected),a=!1;i.length>0&&S.has.firstLetter(i,t)&&(n=i.nextAll($).eq(0),S.has.firstLetter(n,t)&&(a=n)),a||$.each(function(){if(S.has.firstLetter(e(this),t))return a=e(this),!1}),a&&(S.verbose("Scrolling to next value with letter",t),S.set.scrollPosition(a),i.removeClass(_.selected),a.addClass(_.selected),k.selectOnKeydown&&S.is.single()&&S.set.selectedItem(a))},direction:function(e){"auto"==k.direction?S.is.onScreen(e)?S.remove.upward(e):S.set.upward(e):"upward"==k.direction&&S.set.upward(e)},upward:function(e){(e||q).addClass(_.upward)},value:function(e,t,n){var a=S.escape.value(e),o=j.length>0,r=(S.has.value(e),S.get.values()),s=e!==i?String(e):e;if(o){if(!k.allowReselection&&s==r&&(S.verbose("Skipping value update already same value",e,r),!S.is.initialLoad()))return;S.is.single()&&S.has.selectInput()&&S.can.extendSelect()&&(S.debug("Adding user option",e),S.add.optionValue(e)),S.debug("Updating input value",a,r),K=!0,j.val(a),!1===k.fireOnInit&&S.is.initialLoad()?S.debug("Input native change event ignored on initial load"):S.trigger.change(),K=!1}else S.verbose("Storing value in metadata",a,j),a!==r&&q.data(D.value,s);!1===k.fireOnInit&&S.is.initialLoad()?S.verbose("No callback on initial load",k.onChange):k.onChange.call(Q,e,t,n)},active:function(){q.addClass(_.active)},multiple:function(){q.addClass(_.multiple)},visible:function(){q.addClass(_.visible)},exactly:function(e,t){S.debug("Setting selected to exact values"),S.clear(),S.set.selected(e,t)},selected:function(t,n){var i=S.is.multiple();(n=k.allowAdditions?n||S.get.itemWithAdditions(t):n||S.get.item(t))&&(S.debug("Setting selected menu item to",n),S.is.multiple()&&S.remove.searchWidth(),S.is.single()?(S.remove.activeItem(),S.remove.selectedItem()):k.useLabels&&S.remove.selectedItem(),n.each(function(){var t=e(this),a=S.get.choiceText(t),o=S.get.choiceValue(t,a),r=t.hasClass(_.filtered),s=t.hasClass(_.active),l=t.hasClass(_.addition),c=i&&1==n.length;i?!s||l?(k.apiSettings&&k.saveRemoteData&&S.save.remoteData(a,o),k.useLabels?(S.add.value(o,a,t),S.add.label(o,a,c),S.set.activeItem(t),S.filterActive(),S.select.nextAvailable(n)):(S.add.value(o,a,t),S.set.text(S.add.variables(T.count)),S.set.activeItem(t))):r||(S.debug("Selected active value, removing label"),S.remove.selected(o)):(k.apiSettings&&k.saveRemoteData&&S.save.remoteData(a,o),S.set.text(a),S.set.value(o,a,t),t.addClass(_.active).addClass(_.selected))}))}},add:{label:function(t,n,i){var a,o=S.is.searchSelection()?V:F,r=S.escape.value(t);return a=e("<a />").addClass(_.label).attr("data-value",r).html(L.label(r,n)),a=k.onLabelCreate.call(a,r,n),S.has.label(t)?void S.debug("Label already exists, skipping",r):(k.label.variation&&a.addClass(k.label.variation),void(!0===i?(S.debug("Animating in label",a),a.addClass(_.hidden).insertBefore(o).transition(k.label.transition,k.label.duration)):(S.debug("Adding selection label",a),a.insertBefore(o))))},message:function(t){var n=N.children(M.message),i=k.templates.message(S.add.variables(t));n.length>0?n.html(i):n=e("<div/>").html(i).addClass(_.message).appendTo(N)},optionValue:function(t){var n=S.escape.value(t)
;j.find('option[value="'+n+'"]').length>0||(S.disconnect.selectObserver(),S.is.single()&&(S.verbose("Removing previous user addition"),j.find("option."+_.addition).remove()),e("<option/>").prop("value",n).addClass(_.addition).html(t).appendTo(j),S.verbose("Adding user addition as an <option>",t),S.observe.select())},userSuggestion:function(e){var t,n=N.children(M.addition),i=S.get.item(e),a=i&&i.not(M.addition).length,o=n.length>0;if(!k.useLabels||!S.has.maxSelections()){if(""===e||a)return void n.remove();o?(n.data(D.value,e).data(D.text,e).attr("data-"+D.value,e).attr("data-"+D.text,e).removeClass(_.filtered),k.hideAdditions||(t=k.templates.addition(S.add.variables(T.addResult,e)),n.html(t)),S.verbose("Replacing user suggestion with new value",n)):((n=S.create.userChoice(e)).prependTo(N),S.verbose("Adding item choice to menu corresponding with user choice addition",n)),k.hideAdditions&&!S.is.allFiltered()||n.addClass(_.selected).siblings().removeClass(_.selected),S.refreshItems()}},variables:function(e,t){var n,i,a=-1!==e.search("{count}"),o=-1!==e.search("{maxCount}"),r=-1!==e.search("{term}");return S.verbose("Adding templated variables to message",e),a&&(n=S.get.selectionCount(),e=e.replace("{count}",n)),o&&(n=S.get.selectionCount(),e=e.replace("{maxCount}",k.maxSelections)),r&&(i=t||S.get.query(),e=e.replace("{term}",i)),e},value:function(t,n,i){var a,o=S.get.values();return""===t?void S.debug("Cannot select blank values from multiselect"):(e.isArray(o)?(a=o.concat([t]),a=S.get.uniqueArray(a)):a=[t],S.has.selectInput()?S.can.extendSelect()&&(S.debug("Adding value to select",t,a,j),S.add.optionValue(t)):(a=a.join(k.delimiter),S.debug("Setting hidden input to delimited value",a,j)),!1===k.fireOnInit&&S.is.initialLoad()?S.verbose("Skipping onadd callback on initial load",k.onAdd):k.onAdd.call(Q,t,n,i),S.set.value(a,t,n,i),void S.check.maxSelections())}},remove:{active:function(){q.removeClass(_.active)},activeLabel:function(){q.find(M.label).removeClass(_.active)},empty:function(){q.removeClass(_.empty)},loading:function(){q.removeClass(_.loading)},initialLoad:function(){p=!1},upward:function(e){(e||q).removeClass(_.upward)},visible:function(){q.removeClass(_.visible)},activeItem:function(){$.removeClass(_.active)},filteredItem:function(){k.useLabels&&S.has.maxSelections()||(k.useLabels&&S.is.multiple()?$.not("."+_.active).removeClass(_.filtered):$.removeClass(_.filtered),S.remove.empty())},optionValue:function(e){var t=S.escape.value(e),n=j.find('option[value="'+t+'"]');n.length>0&&n.hasClass(_.addition)&&(y&&(y.disconnect(),S.verbose("Temporarily disconnecting mutation observer")),n.remove(),S.verbose("Removing user addition as an <option>",t),y&&y.observe(j[0],{childList:!0,subtree:!0}))},message:function(){N.children(M.message).remove()},searchWidth:function(){V.css("width","")},searchTerm:function(){S.verbose("Cleared search term"),V.val(""),S.set.filtered()},userAddition:function(){$.filter(M.addition).remove()},selected:function(t,n){return!!(n=k.allowAdditions?n||S.get.itemWithAdditions(t):n||S.get.item(t))&&void n.each(function(){var t=e(this),n=S.get.choiceText(t),i=S.get.choiceValue(t,n);S.is.multiple()?k.useLabels?(S.remove.value(i,n,t),S.remove.label(i)):(S.remove.value(i,n,t),0===S.get.selectionCount()?S.set.placeholderText():S.set.text(S.add.variables(T.count))):S.remove.value(i,n,t),t.removeClass(_.filtered).removeClass(_.active),k.useLabels&&t.removeClass(_.selected)})},selectedItem:function(){$.removeClass(_.selected)},value:function(e,t,n){var i,a=S.get.values();S.has.selectInput()?(S.verbose("Input is <select> removing selected option",e),i=S.remove.arrayValue(e,a),S.remove.optionValue(e)):(S.verbose("Removing from delimited values",e),i=S.remove.arrayValue(e,a),i=i.join(k.delimiter)),!1===k.fireOnInit&&S.is.initialLoad()?S.verbose("No callback on initial load",k.onRemove):k.onRemove.call(Q,e,t,n),S.set.value(i,t,n),S.check.maxSelections()},arrayValue:function(t,n){return e.isArray(n)||(n=[n]),n=e.grep(n,function(e){return t!=e}),S.verbose("Removed value from delimited string",t,n),n},label:function(e,t){var n=q.find(M.label).filter('[data-value="'+e+'"]');S.verbose("Removing label",n),n.remove()},activeLabels:function(e){e=e||q.find(M.label).filter("."+_.active),S.verbose("Removing active label selections",e),S.remove.labels(e)},labels:function(t){t=t||q.find(M.label),S.verbose("Removing labels",t),t.each(function(){var t=e(this),n=t.data(D.value),a=n!==i?String(n):n,o=S.is.userValue(a);return!1===k.onLabelRemove.call(t,n)?void S.debug("Label remove callback cancelled removal"):(S.remove.message(),void(o?(S.remove.value(a),S.remove.label(a)):S.remove.selected(a)))})},tabbable:function(){S.has.search()?(S.debug("Searchable dropdown initialized"),V.removeAttr("tabindex"),N.removeAttr("tabindex")):(S.debug("Simple selection dropdown initialized"),q.removeAttr("tabindex"),N.removeAttr("tabindex"))}},has:{menuSearch:function(){return S.has.search()&&V.closest(N).length>0},search:function(){return V.length>0},sizer:function(){return H.length>0},selectInput:function(){return j.is("select")},minCharacters:function(e){return!k.minCharacters||(e=e!==i?String(e):String(S.get.query())).length>=k.minCharacters},firstLetter:function(e,t){var n,i;return!(!e||0===e.length||"string"!=typeof t)&&(n=S.get.choiceText(e,!1),t=t.toLowerCase(),i=String(n).charAt(0).toLowerCase(),t==i)},input:function(){return j.length>0},items:function(){return $.length>0},menu:function(){return N.length>0},message:function(){return 0!==N.children(M.message).length},label:function(e){var t=S.escape.value(e);return q.find(M.label).filter('[data-value="'+t+'"]').length>0},maxSelections:function(){return k.maxSelections&&S.get.selectionCount()>=k.maxSelections},allResultsFiltered:function(){var e=$.not(M.addition);return e.filter(M.unselectable).length===e.length},userSuggestion:function(){return N.children(M.addition).length>0},query:function(){return""!==S.get.query()},value:function(t){var n=S.get.values();return!!(e.isArray(n)?n&&-1!==e.inArray(t,n):n==t)}},is:{active:function(){return q.hasClass(_.active)},bubbledLabelClick:function(t){return e(t.target).is("select, input")&&q.closest("label").length>0},bubbledIconClick:function(t){return e(t.target).closest(W).length>0},alreadySetup:function(){return q.is("select")&&q.parent(M.dropdown).length>0&&0===q.prev().length},animating:function(e){return e?e.transition&&e.transition("is animating"):N.transition&&N.transition("is animating")},disabled:function(){return q.hasClass(_.disabled)},focused:function(){return n.activeElement===q[0]},focusedOnSearch:function(){return n.activeElement===V[0]},allFiltered:function(){return(S.is.multiple()||S.has.search())&&!(0==k.hideAdditions&&S.has.userSuggestion())&&!S.has.message()&&S.has.allResultsFiltered()},hidden:function(e){return!S.is.visible(e)},initialLoad:function(){return p},onScreen:function(e){var t,n=e||N,i=!0,a={};return n.addClass(_.loading),t={context:{scrollTop:P.scrollTop(),height:P.outerHeight()},menu:{offset:n.offset(),height:n.outerHeight()}},a={above:t.context.scrollTop<=t.menu.offset.top-t.menu.height,below:t.context.scrollTop+t.context.height>=t.menu.offset.top+t.menu.height},a.below?(S.verbose("Dropdown can fit in context downward",a),i=!0):a.below||a.above?(S.verbose("Dropdown cannot fit below, opening upward",a),i=!1):(S.verbose("Dropdown cannot fit in either direction, favoring downward",a),i=!0),n.removeClass(_.loading),i},inObject:function(t,n){var i=!1;return e.each(n,function(e,n){if(n==t)return i=!0,!0}),i},multiple:function(){return q.hasClass(_.multiple)},single:function(){return!S.is.multiple()},selectMutation:function(t){var n=!1;return e.each(t,function(t,i){if(i.target&&e(i.target).is("select"))return n=!0,!0}),n},search:function(){return q.hasClass(_.search)},searchSelection:function(){return S.has.search()&&1===V.parent(M.dropdown).length},selection:function(){return q.hasClass(_.selection)},userValue:function(t){return-1!==e.inArray(t,S.get.userValues())},upward:function(e){return(e||q).hasClass(_.upward)},visible:function(e){return e?e.hasClass(_.visible):N.hasClass(_.visible)}},can:{activate:function(e){return!!k.useLabels||!S.has.maxSelections()||!(!S.has.maxSelections()||!e.hasClass(_.active))},click:function(){return c||"click"==k.on},extendSelect:function(){return k.allowAdditions||k.apiSettings},show:function(){return!S.is.disabled()&&(S.has.items()||S.has.message())},useAPI:function(){return e.fn.api!==i}},animate:{show:function(t,n){var a,o=n||N,r=n?function(){}:function(){S.hideSubMenus(),S.hideOthers(),S.set.active()};t=e.isFunction(t)?t:function(){},S.verbose("Doing menu show animation",o),S.set.direction(n),a=S.get.transition(n),S.is.selection()&&S.set.scrollPosition(S.get.selectedItem(),!0),(S.is.hidden(o)||S.is.animating(o))&&("none"==a?(r(),o.transition("show"),t.call(Q)):e.fn.transition!==i&&q.transition("is supported")?o.transition({animation:a+" in",debug:k.debug,verbose:k.verbose,duration:k.duration,queue:!0,onStart:r,onComplete:function(){t.call(Q)}}):S.error(B.noTransition,a))},hide:function(t,n){var a=n||N,o=(k.duration,n?function(){}:function(){S.can.click()&&S.unbind.intent(),S.remove.active()}),r=S.get.transition(n);t=e.isFunction(t)?t:function(){},(S.is.visible(a)||S.is.animating(a))&&(S.verbose("Doing menu hide animation",a),"none"==r?(o(),a.transition("hide"),t.call(Q)):e.fn.transition!==i&&q.transition("is supported")?a.transition({animation:r+" out",duration:k.duration,debug:k.debug,verbose:k.verbose,queue:!0,onStart:o,onComplete:function(){"auto"==k.direction&&S.remove.upward(n),t.call(Q)}}):S.error(B.transition))}},hideAndClear:function(){S.remove.searchTerm(),S.has.maxSelections()||(S.has.search()?S.hide(function(){S.remove.filteredItem()}):S.hide())},delay:{show:function(){S.verbose("Delaying show event to ensure user intent"),clearTimeout(S.timer),S.timer=setTimeout(S.show,k.delay.show)},hide:function(){S.verbose("Delaying hide event to ensure user intent"),clearTimeout(S.timer),S.timer=setTimeout(S.hide,k.delay.hide)}},escape:{value:function(t){var n=e.isArray(t),i="string"==typeof t,a=!i&&!n,o=i&&-1!==t.search(I.quote),r=[];return S.has.selectInput()&&!a&&o?(S.debug("Encoding quote values for use in select",t),n?(e.each(t,function(e,t){r.push(t.replace(I.quote,"&quot;"))}),r):t.replace(I.quote,"&quot;")):t},regExp:function(e){return(e=String(e)).replace(I.escape,"\\$&")}},setting:function(t,n){if(S.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,k,t);else{if(n===i)return k[t];e.isPlainObject(k[t])?e.extend(!0,k[t],n):k[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,S,t);else{if(n===i)return S[t];S[t]=n}},debug:function(){!k.silent&&k.debug&&(k.performance?S.performance.log(arguments):(S.debug=Function.prototype.bind.call(console.info,console,k.name+":"),S.debug.apply(console,arguments)))},verbose:function(){!k.silent&&k.verbose&&k.debug&&(k.performance?S.performance.log(arguments):(S.verbose=Function.prototype.bind.call(console.info,console,k.name+":"),S.verbose.apply(console,arguments)))},error:function(){k.silent||(S.error=Function.prototype.bind.call(console.error,console,k.name+":"),S.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;k.performance&&(t=(new Date).getTime(),i=d||t,n=t-i,d=t,u.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:Q,"Execution Time":n})),clearTimeout(S.performance.timer),S.performance.timer=setTimeout(S.performance.display,500)},display:function(){var t=k.name+":",n=0;d=!1,clearTimeout(S.performance.timer),e.each(u,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",l&&(t+=" '"+l+"'"),(console.group!==i||console.table!==i)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,n,a){var r,s,l,c=Z;return n=n||h,a=Q||a,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,a){var o=n!=r?a+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=r)c=c[o];else{if(c[o]!==i)return s=c[o],!1;if(!e.isPlainObject(c[a])||n==r)return c[a]!==i?(s=c[a],!1):(S.error(B.method,t),!1);c=c[a]}})),e.isFunction(s)?l=s.apply(a,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},m?(Z===i&&S.initialize(),S.invoke(f)):(Z!==i&&Z.invoke("destroy"),S.initialize())}),o!==i?o:r},e.fn.dropdown.settings={silent:!1,debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",apiSettings:!1,selectOnKeydown:!0,minCharacters:0,saveRemoteData:!0,throttle:200,context:t,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,hideAdditions:!0,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowReselection:!1,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,glyphWidth:1.037,label:{transition:"scale",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(e,t,n){if($(this).is(".account_selector")&&$(this).is(".multi")){if($(n).hide(),void 0!==t){$(".selected_accounts").append('<a data-value="'+e+'">'+t+' <i class="delete"></i></a>'),$(".selected_accounts").show();var i=[];$(".selected_accounts a").each(function(e,t){i.push($(this).data("value"))}),$(this).find("input[name=selected_accounts]").val(i.join(",")).trigger("change")}$(this).dropdown("clear")}},onAdd:function(e,t,n){},onRemove:function(e,t,n){},onLabelSelect:function(e){},onLabelCreate:function(t,n){return e(this)},onLabelRemove:function(e){return!0},onNoResults:function(e){return!0},onShow:function(){if(0==$(this).find('.menu .item:not([style*="display: none"])').length)return!1},onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:"No results found.",serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",missingMultiple:"<select> requires multiple property to be set to correctly preserve multiple values",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g,quote:/"/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},fields:{remoteValues:"results",values:"values",disabled:"disabled",name:"name",value:"value",text:"text"},keys:{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},selector:{addition:".addition",dropdown:".ui.dropdown",hidden:".hidden",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input, .menu input.search",sizer:"> input.sizer",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",disabled:"disabled",empty:"empty",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",sizer:"sizer",search:"search",selected:"selected",selection:"selection",upward:"upward",visible:"visible"}},e.fn.dropdown.settings.templates={dropdown:function(t){var n=t.placeholder||!1,i=(t.values,"");return i+='<i class="dropdown icon"></i>',i+=t.placeholder?'<div class="default text">'+n+"</div>":'<div class="text"></div>',i+='<div class="menu">',e.each(t.values,function(e,t){i+=t.disabled?'<div class="disabled item" data-value="'+t.value+'">'+t.name+"</div>":'<div class="item" data-value="'+t.value+'">'+t.name+"</div>"}),i+="</div>"},menu:function(t,n){var i=t[n.values]||{},a="";return e.each(i,function(e,t){var i=t[n.text]?'data-text="'+t[n.text]+'"':"",o=t[n.disabled]?"disabled ":"";a+='<div class="'+o+'item" data-value="'+t[n.value]+'"'+i+">",a+=t[n.name],a+="</div>"}),a},label:function(e,t){return t+'<i class="delete icon"></i>'},message:function(e){return e},addition:function(e){return e}}}(jQuery,window,document),$(document.body).on("click",".ui.form .field .selected_accounts a .delete",function(e){$(this).parent().hide(),dd=$(this).parent().parent().parent().parent().find(".dropdown.account_selector"),dd_input=dd.find("input[name=selected_accounts]"),dd_item=dd.find('.menu .item[data-value="'+$(this).parent().data("value")+'"]');var t=[];$(".selected_accounts a").each(function(e,n){t.push($(this).data("value"))}),data_index=t.indexOf($(this).parent().data("value")),t.splice(data_index,1),0==t.length&&$(".selected_accounts").hide(),dd_input.val(t.join(",")).trigger("change"),dd_item.show().removeClass("selected"),$(this).parent().remove()}),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.checkbox=function(a){var o,r=e(this),s=r.selector||"",l=(new Date).getTime(),c=[],d=arguments[0],u="string"==typeof d,f=[].slice.call(arguments,1);return r.each(function(){var r,m,h=e.extend(!0,{},e.fn.checkbox.settings,a),v=h.className,p=h.namespace,g=h.selector,b=h.error,x="."+p,w="module-"+p,y=e(this),C=e(this).children(g.label),S=e(this).children(g.input),k=S[0],_=!1,T=!1,A=y.data(w),E=this;m={initialize:function(){m.verbose("Initializing checkbox",h),m.create.label(),m.bind.events(),m.set.tabbable(),m.hide.input(),m.observeChanges(),m.instantiate(),m.setup()},instantiate:function(){m.verbose("Storing instance of module",m),A=m,y.data(w,m)},destroy:function(){m.verbose("Destroying module"),m.unbind.events(),m.show.input(),y.removeData(w)},fix:{reference:function(){y.is(g.input)&&(m.debug("Behavior called on <input> adjusting invoked element"),y=y.closest(g.checkbox),m.refresh())}},setup:function(){m.set.initialLoad(),m.is.indeterminate()?(m.debug("Initial value is indeterminate"),m.indeterminate()):m.is.checked()?(m.debug("Initial value is checked"),m.check()):(m.debug("Initial value is unchecked"),m.uncheck()),m.remove.initialLoad()},refresh:function(){C=y.children(g.label),S=y.children(g.input),k=S[0]},hide:{input:function(){m.verbose("Modifying <input> z-index to be unselectable"),S.addClass(v.hidden)}},show:{input:function(){m.verbose("Modifying <input> z-index to be selectable"),S.removeClass(v.hidden)}},observeChanges:function(){"MutationObserver"in t&&(r=new MutationObserver(function(e){m.debug("DOM tree modified, updating selector cache"),m.refresh()}),r.observe(E,{childList:!0,subtree:!0}),m.debug("Setting up mutation observer",r))},attachEvents:function(t,n){var i=e(t);n=e.isFunction(m[n])?m[n]:m.toggle,i.length>0?(m.debug("Attaching checkbox events to element",t,n),i.on("click"+x,n)):m.error(b.notFound)},event:{click:function(t){var n=e(t.target);return n.is(g.input)?void m.verbose("Using default check action on initialized checkbox"):n.is(g.link)?void m.debug("Clicking link inside checkbox, skipping toggle"):(m.toggle(),S.focus(),void t.preventDefault())},keydown:function(e){var t=e.which,n={enter:13,space:32,escape:27};t==n.escape?(m.verbose("Escape key pressed blurring field"),S.blur(),T=!0):e.ctrlKey||t!=n.space&&t!=n.enter?T=!1:(m.verbose("Enter/space key pressed, toggling checkbox"),m.toggle(),T=!0)},keyup:function(e){T&&e.preventDefault()}},check:function(){m.should.allowCheck()&&(m.debug("Checking checkbox",S),m.set.checked(),m.should.ignoreCallbacks()||(h.onChecked.call(k),h.onChange.call(k)))},uncheck:function(){m.should.allowUncheck()&&(m.debug("Unchecking checkbox"),m.set.unchecked(),m.should.ignoreCallbacks()||(h.onUnchecked.call(k),h.onChange.call(k)))},indeterminate:function(){return m.should.allowIndeterminate()?void m.debug("Checkbox is already indeterminate"):(m.debug("Making checkbox indeterminate"),m.set.indeterminate(),void(m.should.ignoreCallbacks()||(h.onIndeterminate.call(k),h.onChange.call(k))))},determinate:function(){return m.should.allowDeterminate()?void m.debug("Checkbox is already determinate"):(m.debug("Making checkbox determinate"),m.set.determinate(),void(m.should.ignoreCallbacks()||(h.onDeterminate.call(k),h.onChange.call(k))))},enable:function(){return m.is.enabled()?void m.debug("Checkbox is already enabled"):(m.debug("Enabling checkbox"),m.set.enabled(),h.onEnable.call(k),void h.onEnabled.call(k))},disable:function(){return m.is.disabled()?void m.debug("Checkbox is already disabled"):(m.debug("Disabling checkbox"),m.set.disabled(),h.onDisable.call(k),void h.onDisabled.call(k))},get:{radios:function(){var t=m.get.name();return e('input[name="'+t+'"]').closest(g.checkbox)},otherRadios:function(){return m.get.radios().not(y)},name:function(){return S.attr("name")}},is:{initialLoad:function(){return _},radio:function(){return S.hasClass(v.radio)||"radio"==S.attr("type")},indeterminate:function(){return S.prop("indeterminate")!==i&&S.prop("indeterminate")},checked:function(){return S.prop("checked")!==i&&S.prop("checked")},disabled:function(){return S.prop("disabled")!==i&&S.prop("disabled")},enabled:function(){return!m.is.disabled()},determinate:function(){return!m.is.indeterminate()},unchecked:function(){return!m.is.checked()}},should:{allowCheck:function(){return m.is.determinate()&&m.is.checked()&&!m.should.forceCallbacks()?(m.debug("Should not allow check, checkbox is already checked"),!1):!1!==h.beforeChecked.apply(k)||(m.debug("Should not allow check, beforeChecked cancelled"),!1)},allowUncheck:function(){return m.is.determinate()&&m.is.unchecked()&&!m.should.forceCallbacks()?(m.debug("Should not allow uncheck, checkbox is already unchecked"),!1):!1!==h.beforeUnchecked.apply(k)||(m.debug("Should not allow uncheck, beforeUnchecked cancelled"),!1)},allowIndeterminate:function(){return m.is.indeterminate()&&!m.should.forceCallbacks()?(m.debug("Should not allow indeterminate, checkbox is already indeterminate"),!1):!1!==h.beforeIndeterminate.apply(k)||(m.debug("Should not allow indeterminate, beforeIndeterminate cancelled"),!1)},allowDeterminate:function(){return m.is.determinate()&&!m.should.forceCallbacks()?(m.debug("Should not allow determinate, checkbox is already determinate"),!1):!1!==h.beforeDeterminate.apply(k)||(m.debug("Should not allow determinate, beforeDeterminate cancelled"),!1)},forceCallbacks:function(){return m.is.initialLoad()&&h.fireOnInit},ignoreCallbacks:function(){return _&&!h.fireOnInit}},can:{change:function(){return!(y.hasClass(v.disabled)||y.hasClass(v.readOnly)||S.prop("disabled")||S.prop("readonly"))},uncheck:function(){return"boolean"==typeof h.uncheckable?h.uncheckable:!m.is.radio()}},set:{initialLoad:function(){_=!0},checked:function(){return m.verbose("Setting class to checked"),y.removeClass(v.indeterminate).addClass(v.checked),m.is.radio()&&m.uncheckOthers(),!m.is.indeterminate()&&m.is.checked()?void m.debug("Input is already checked, skipping input property change"):(m.verbose("Setting state to checked",k),S.prop("indeterminate",!1).prop("checked",!0),void m.trigger.change())},unchecked:function(){return m.verbose("Removing checked class"),y.removeClass(v.indeterminate).removeClass(v.checked),!m.is.indeterminate()&&m.is.unchecked()?void m.debug("Input is already unchecked"):(m.debug("Setting state to unchecked"),S.prop("indeterminate",!1).prop("checked",!1),void m.trigger.change())},indeterminate:function(){return m.verbose("Setting class to indeterminate"),y.addClass(v.indeterminate),m.is.indeterminate()?void m.debug("Input is already indeterminate, skipping input property change"):(m.debug("Setting state to indeterminate"),S.prop("indeterminate",!0),void m.trigger.change())},determinate:function(){return m.verbose("Removing indeterminate class"),y.removeClass(v.indeterminate),m.is.determinate()?void m.debug("Input is already determinate, skipping input property change"):(m.debug("Setting state to determinate"),void S.prop("indeterminate",!1))},disabled:function(){return m.verbose("Setting class to disabled"),y.addClass(v.disabled),m.is.disabled()?void m.debug("Input is already disabled, skipping input property change"):(m.debug("Setting state to disabled"),S.prop("disabled","disabled"),void m.trigger.change())},enabled:function(){return m.verbose("Removing disabled class"),y.removeClass(v.disabled),m.is.enabled()?void m.debug("Input is already enabled, skipping input property change"):(m.debug("Setting state to enabled"),S.prop("disabled",!1),void m.trigger.change())},tabbable:function(){m.verbose("Adding tabindex to checkbox"),S.attr("tabindex")===i&&S.attr("tabindex",0)}},remove:{initialLoad:function(){_=!1}},trigger:{change:function(){var e=n.createEvent("HTMLEvents"),t=S[0];t&&(m.verbose("Triggering native change event"),e.initEvent("change",!0,!1),t.dispatchEvent(e))}},create:{label:function(){S.prevAll(g.label).length>0?(S.prev(g.label).detach().insertAfter(S),m.debug("Moving existing label",C)):m.has.label()||(C=e("<label>").insertAfter(S),m.debug("Creating label",C))}},has:{label:function(){return C.length>0}},bind:{events:function(){m.verbose("Attaching checkbox events"),y.on("click"+x,m.event.click).on("keydown"+x,g.input,m.event.keydown).on("keyup"+x,g.input,m.event.keyup)}},unbind:{events:function(){m.debug("Removing events"),y.off(x)}},uncheckOthers:function(){var e=m.get.otherRadios();m.debug("Unchecking other radios",e),e.removeClass(v.checked)},toggle:function(){return m.can.change()?void(m.is.indeterminate()||m.is.unchecked()?(m.debug("Currently unchecked"),m.check()):m.is.checked()&&m.can.uncheck()&&(m.debug("Currently checked"),m.uncheck())):void(m.is.radio()||m.debug("Checkbox is read-only or disabled, ignoring toggle"))},setting:function(t,n){if(m.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,h,t);else{if(n===i)return h[t];e.isPlainObject(h[t])?e.extend(!0,h[t],n):h[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},debug:function(){!h.silent&&h.debug&&(h.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,h.name+":"),m.debug.apply(console,arguments)))},verbose:function(){!h.silent&&h.verbose&&h.debug&&(h.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),m.verbose.apply(console,arguments)))},error:function(){h.silent||(m.error=Function.prototype.bind.call(console.error,console,h.name+":"),m.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;h.performance&&(t=(new Date).getTime(),i=l||t,n=t-i,l=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:E,"Execution Time":n})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var t=h.name+":",n=0;l=!1,clearTimeout(m.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,a){var r,s,l,c=A;return n=n||f,a=E||a,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,a){var o=n!=r?a+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=r)c=c[o];else{if(c[o]!==i)return s=c[o],!1;if(!e.isPlainObject(c[a])||n==r)return c[a]!==i?(s=c[a],!1):(m.error(b.method,t),!1);c=c[a]}})),e.isFunction(s)?l=s.apply(a,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},u?(A===i&&m.initialize(),m.invoke(d)):(A!==i&&A.invoke("destroy"),m.initialize())}),o!==i?o:this},e.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",silent:!1,debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!1,onChange:function(){},beforeChecked:function(){},beforeUnchecked:function(){},beforeDeterminate:function(){},beforeIndeterminate:function(){},onChecked:function(){},onUnchecked:function(){},onDeterminate:function(){},onIndeterminate:function(){},onEnable:function(){},onDisable:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:"checked",indeterminate:"indeterminate",disabled:"disabled",hidden:"hidden",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{checkbox:".ui.checkbox",label:"label, .box",input:'input[type="checkbox"], input[type="radio"]',link:"a[href]"}}}(jQuery,window,document),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var r=t||window.event,s=l.call(arguments,1),c=0,u=0,f=0,m=0,h=0,v=0;if(t=e.event.fix(r),t.type="mousewheel","detail"in r&&(f=-1*r.detail),"wheelDelta"in r&&(f=r.wheelDelta),"wheelDeltaY"in r&&(f=r.wheelDeltaY),"wheelDeltaX"in r&&(u=-1*r.wheelDeltaX),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(u=-1*f,f=0),c=0===f?u:f,"deltaY"in r&&(f=-1*r.deltaY,c=f),"deltaX"in r&&(u=r.deltaX,0===f&&(c=-1*u)),0!==f||0!==u){if(1===r.deltaMode){var p=e.data(this,"mousewheel-line-height");c*=p,f*=p,u*=p}else if(2===r.deltaMode){var g=e.data(this,"mousewheel-page-height");c*=g,f*=g,u*=g}if(m=Math.max(Math.abs(f),Math.abs(u)),(!o||o>m)&&(o=m,i(r,m)&&(o/=40)),i(r,m)&&(c/=40,u/=40,f/=40),c=Math[c>=1?"floor":"ceil"](c/o),u=Math[u>=1?"floor":"ceil"](u/o),f=Math[f>=1?"floor":"ceil"](f/o),d.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();h=t.clientX-b.left,v=t.clientY-b.top}return t.deltaX=u,t.deltaY=f,t.deltaFactor=o,t.offsetX=h,t.offsetY=v,t.deltaMode=0,s.unshift(t,c,u,f),a&&clearTimeout(a),a=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function n(){o=null}function i(e,t){return d.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var a,o,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var c=r.length;c;)e.event.fixHooks[r[--c]]=e.event.mouseHooks;var d=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",d.getLineHeight(this)),e.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),i=n["offsetParent"in e.fn?"offsetParent":"parent"]();return i.length||(i=e("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var r=t||window.event,s=l.call(arguments,1),c=0,u=0,f=0,m=0,h=0,v=0;if(t=e.event.fix(r),t.type="mousewheel","detail"in r&&(f=-1*r.detail),"wheelDelta"in r&&(f=r.wheelDelta),"wheelDeltaY"in r&&(f=r.wheelDeltaY),"wheelDeltaX"in r&&(u=-1*r.wheelDeltaX),
"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(u=-1*f,f=0),c=0===f?u:f,"deltaY"in r&&(f=-1*r.deltaY,c=f),"deltaX"in r&&(u=r.deltaX,0===f&&(c=-1*u)),0!==f||0!==u){if(1===r.deltaMode){var p=e.data(this,"mousewheel-line-height");c*=p,f*=p,u*=p}else if(2===r.deltaMode){var g=e.data(this,"mousewheel-page-height");c*=g,f*=g,u*=g}if(m=Math.max(Math.abs(f),Math.abs(u)),(!o||o>m)&&(o=m,i(r,m)&&(o/=40)),i(r,m)&&(c/=40,u/=40,f/=40),c=Math[c>=1?"floor":"ceil"](c/o),u=Math[u>=1?"floor":"ceil"](u/o),f=Math[f>=1?"floor":"ceil"](f/o),d.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();h=t.clientX-b.left,v=t.clientY-b.top}return t.deltaX=u,t.deltaY=f,t.deltaFactor=o,t.offsetX=h,t.offsetY=v,t.deltaMode=0,s.unshift(t,c,u,f),a&&clearTimeout(a),a=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function n(){o=null}function i(e,t){return d.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var a,o,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var c=r.length;c;)e.event.fixHooks[r[--c]]=e.event.mouseHooks;var d=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",d.getLineHeight(this)),e.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),i=n["offsetParent"in e.fn?"offsetParent":"parent"]();return i.length||(i=e("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}(function(e){!function(t){var n="function"==typeof define&&define.amd,i="undefined"!=typeof module&&module.exports,a="https:"==document.location.protocol?"https:":"http:";n||(i?require("jquery-mousewheel")(e):e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+a+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E"))),function(){var t,n="mCustomScrollbar",i="mCS",a=".mCustomScrollbar",o={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},r=0,s={},l=window.attachEvent&&!window.addEventListener?1:0,c=!1,d=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],u={init:function(t){var t=e.extend(!0,{},o,t),n=f.call(this);if(t.live){var l=t.liveSelector||this.selector||a,c=e(l);if("off"===t.live)return void h(l);s[l]=setTimeout(function(){c.mCustomScrollbar(t),"once"===t.live&&c.length&&h(l)},500)}else h(l);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":v(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,"object"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=p(t.scrollButtons.scrollType),m(t),e(n).each(function(){var n=e(this);if(!n.data(i)){n.data(i,{idx:++r,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:n.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var a=n.data(i),o=a.opt,s=n.data("mcs-axis"),l=n.data("mcs-scrollbar-position"),c=n.data("mcs-theme");s&&(o.axis=s),l&&(o.scrollbarPosition=l),c&&(o.theme=c,m(o)),g.call(this),a&&o.callbacks.onCreate&&"function"==typeof o.callbacks.onCreate&&o.callbacks.onCreate.call(this),e("#mCSB_"+a.idx+"_container img:not(."+d[2]+")").addClass(d[2]),u.update.call(null,n)}})},update:function(t,n){var a=t||f.call(this);return e(a).each(function(){var t=e(this);if(t.data(i)){var a=t.data(i),o=a.opt,r=e("#mCSB_"+a.idx+"_container"),s=e("#mCSB_"+a.idx),l=[e("#mCSB_"+a.idx+"_dragger_vertical"),e("#mCSB_"+a.idx+"_dragger_horizontal")];if(!r.length)return;a.tweenRunning&&X(t),n&&a&&o.callbacks.onBeforeUpdate&&"function"==typeof o.callbacks.onBeforeUpdate&&o.callbacks.onBeforeUpdate.call(this),t.hasClass(d[3])&&t.removeClass(d[3]),t.hasClass(d[4])&&t.removeClass(d[4]),s.css("max-height","none"),s.height()!==t.height()&&s.css("max-height",t.height()),x.call(this),"y"===o.axis||o.advanced.autoExpandHorizontalScroll||r.css("width",b(r)),a.overflowed=k.call(this),E.call(this),o.autoDraggerLength&&y.call(this),C.call(this),T.call(this);var c=[Math.abs(r[0].offsetTop),Math.abs(r[0].offsetLeft)];"x"!==o.axis&&(a.overflowed[0]?l[0].height()>l[0].parent().height()?_.call(this):(K(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),a.contentReset.y=null):(_.call(this),"y"===o.axis?A.call(this):"yx"===o.axis&&a.overflowed[1]&&K(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==o.axis&&(a.overflowed[1]?l[1].width()>l[1].parent().width()?_.call(this):(K(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),a.contentReset.x=null):(_.call(this),"x"===o.axis?A.call(this):"yx"===o.axis&&a.overflowed[0]&&K(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),n&&a&&(2===n&&o.callbacks.onImageLoad&&"function"==typeof o.callbacks.onImageLoad?o.callbacks.onImageLoad.call(this):3===n&&o.callbacks.onSelectorChange&&"function"==typeof o.callbacks.onSelectorChange?o.callbacks.onSelectorChange.call(this):o.callbacks.onUpdate&&"function"==typeof o.callbacks.onUpdate&&o.callbacks.onUpdate.call(this)),$.call(this)}})},scrollTo:function(t,n){if(void 0!==t&&null!=t){var a=f.call(this);return e(a).each(function(){var a=e(this);if(a.data(i)){var o=a.data(i),r=o.opt,s={trigger:"external",scrollInertia:r.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},l=e.extend(!0,{},s,n),c=U.call(this,t),d=l.scrollInertia>0&&l.scrollInertia<17?17:l.scrollInertia;c[0]=N.call(this,c[0],"y"),c[1]=N.call(this,c[1],"x"),l.moveDragger&&(c[0]*=o.scrollRatio.y,c[1]*=o.scrollRatio.x),l.dur=ae()?0:d,setTimeout(function(){null!==c[0]&&void 0!==c[0]&&"x"!==r.axis&&o.overflowed[0]&&(l.dir="y",l.overwrite="all",K(a,c[0].toString(),l)),null!==c[1]&&void 0!==c[1]&&"y"!==r.axis&&o.overflowed[1]&&(l.dir="x",l.overwrite="none",K(a,c[1].toString(),l))},l.timeout)}})}},stop:function(){var t=f.call(this);return e(t).each(function(){var t=e(this);t.data(i)&&X(t)})},disable:function(t){var n=f.call(this);return e(n).each(function(){var n=e(this);n.data(i)&&(n.data(i),$.call(this,"remove"),A.call(this),t&&_.call(this),E.call(this,!0),n.addClass(d[3]))})},destroy:function(){var t=f.call(this);return e(t).each(function(){var a=e(this);if(a.data(i)){var o=a.data(i),r=o.opt,s=e("#mCSB_"+o.idx),l=e("#mCSB_"+o.idx+"_container"),c=e(".mCSB_"+o.idx+"_scrollbar");r.live&&h(r.liveSelector||e(t).selector),$.call(this,"remove"),A.call(this),_.call(this),a.removeData(i),J(this,"mcs"),c.remove(),l.find("img."+d[2]).removeClass(d[2]),s.replaceWith(l.contents()),a.removeClass(n+" _"+i+"_"+o.idx+" "+d[6]+" "+d[7]+" "+d[5]+" "+d[3]).addClass(d[4])}})}},f=function(){return"object"!=typeof e(this)||e(this).length<1?a:this},m=function(t){var n=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],i=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],a=["minimal","minimal-dark"],o=["minimal","minimal-dark"],r=["minimal","minimal-dark"];t.autoDraggerLength=!(e.inArray(t.theme,n)>-1)&&t.autoDraggerLength,t.autoExpandScrollbar=!(e.inArray(t.theme,i)>-1)&&t.autoExpandScrollbar,t.scrollButtons.enable=!(e.inArray(t.theme,a)>-1)&&t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,o)>-1||t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,r)>-1?"outside":t.scrollbarPosition},h=function(e){s[e]&&(clearTimeout(s[e]),J(s,e))},v=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},p=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},g=function(){var t=e(this),a=t.data(i),o=a.opt,r=o.autoExpandScrollbar?" "+d[1]+"_expand":"",s=["<div id='mCSB_"+a.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+a.idx+"_scrollbar mCS-"+o.theme+" mCSB_scrollTools_vertical"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+a.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+a.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+a.idx+"_scrollbar mCS-"+o.theme+" mCSB_scrollTools_horizontal"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+a.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],l="yx"===o.axis?"mCSB_vertical_horizontal":"x"===o.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===o.axis?s[0]+s[1]:"x"===o.axis?s[1]:s[0],u="yx"===o.axis?"<div id='mCSB_"+a.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",f=o.autoHideScrollbar?" "+d[6]:"",m="x"!==o.axis&&"rtl"===a.langDir?" "+d[7]:"";o.setWidth&&t.css("width",o.setWidth),o.setHeight&&t.css("height",o.setHeight),o.setLeft="y"!==o.axis&&"rtl"===a.langDir?"989999px":o.setLeft,t.addClass(n+" _"+i+"_"+a.idx+f+m).wrapInner("<div id='mCSB_"+a.idx+"' class='mCustomScrollBox mCS-"+o.theme+" "+l+"'><div id='mCSB_"+a.idx+"_container' class='mCSB_container' style='position:relative; top:"+o.setTop+"; left:"+o.setLeft+";' dir='"+a.langDir+"' /></div>");var h=e("#mCSB_"+a.idx),v=e("#mCSB_"+a.idx+"_container");"y"===o.axis||o.advanced.autoExpandHorizontalScroll||v.css("width",b(v)),"outside"===o.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),h.addClass("mCSB_outside").after(c)):(h.addClass("mCSB_inside").append(c),v.wrap(u)),w.call(this);var p=[e("#mCSB_"+a.idx+"_dragger_vertical"),e("#mCSB_"+a.idx+"_dragger_horizontal")];p[0].css("min-height",p[0].height()),p[1].css("min-width",p[1].width())},b=function(t){var n=[t[0].scrollWidth,Math.max.apply(Math,t.children().map(function(){return e(this).outerWidth(!0)}).get())],i=t.parent().width();return n[0]>i?n[0]:n[1]>i?n[1]:"100%"},x=function(){var t=e(this),n=t.data(i),a=n.opt,o=e("#mCSB_"+n.idx+"_container");if(a.advanced.autoExpandHorizontalScroll&&"y"!==a.axis){o.css({width:"auto","min-width":0,"overflow-x":"scroll"});var r=Math.ceil(o[0].scrollWidth);3===a.advanced.autoExpandHorizontalScroll||2!==a.advanced.autoExpandHorizontalScroll&&r>o.parent().width()?o.css({width:r,"min-width":"100%","overflow-x":"inherit"}):o.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(o[0].getBoundingClientRect().right+.4)-Math.floor(o[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},w=function(){var t=e(this),n=t.data(i),a=n.opt,o=e(".mCSB_"+n.idx+"_scrollbar:first"),r=ne(a.scrollButtons.tabindex)?"tabindex='"+a.scrollButtons.tabindex+"'":"",s=["<a href='#' class='"+d[13]+"' "+r+" />","<a href='#' class='"+d[14]+"' "+r+" />","<a href='#' class='"+d[15]+"' "+r+" />","<a href='#' class='"+d[16]+"' "+r+" />"],l=["x"===a.axis?s[2]:s[0],"x"===a.axis?s[3]:s[1],s[2],s[3]];a.scrollButtons.enable&&o.prepend(l[0]).append(l[1]).next(".mCSB_scrollTools").prepend(l[2]).append(l[3])},y=function(){var t=e(this),n=t.data(i),a=e("#mCSB_"+n.idx),o=e("#mCSB_"+n.idx+"_container"),r=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")],s=[a.height()/o.outerHeight(!1),a.width()/o.outerWidth(!1)],c=[parseInt(r[0].css("min-height")),Math.round(s[0]*r[0].parent().height()),parseInt(r[1].css("min-width")),Math.round(s[1]*r[1].parent().width())],d=l&&c[1]<c[0]?c[0]:c[1],u=l&&c[3]<c[2]?c[2]:c[3];r[0].css({height:d,"max-height":r[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"}),r[1].css({width:u,"max-width":r[1].parent().width()-10})},C=function(){var t=e(this),n=t.data(i),a=e("#mCSB_"+n.idx),o=e("#mCSB_"+n.idx+"_container"),r=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")],s=[o.outerHeight(!1)-a.height(),o.outerWidth(!1)-a.width()],l=[s[0]/(r[0].parent().height()-r[0].height()),s[1]/(r[1].parent().width()-r[1].width())];n.scrollRatio={y:l[0],x:l[1]}},S=function(e,t,n){var i=n?d[0]+"_expanded":"",a=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(d[0]+" "+i),a.toggleClass(d[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(d[0]),a.removeClass(d[1])):(e.addClass(d[0]),a.addClass(d[1])))},k=function(){var t=e(this),n=t.data(i),a=e("#mCSB_"+n.idx),o=e("#mCSB_"+n.idx+"_container"),r=null==n.overflowed?o.height():o.outerHeight(!1),s=null==n.overflowed?o.width():o.outerWidth(!1),l=o[0].scrollHeight,c=o[0].scrollWidth;return l>r&&(r=l),c>s&&(s=c),[r>a.height(),s>a.width()]},_=function(){var t=e(this),n=t.data(i),a=n.opt,o=e("#mCSB_"+n.idx),r=e("#mCSB_"+n.idx+"_container"),s=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];if(X(t),("x"!==a.axis&&!n.overflowed[0]||"y"===a.axis&&n.overflowed[0])&&(s[0].add(r).css("top",0),K(t,"_resetY")),"y"!==a.axis&&!n.overflowed[1]||"x"===a.axis&&n.overflowed[1]){var l=dx=0;"rtl"===n.langDir&&(l=o.width()-r.outerWidth(!1),dx=Math.abs(l/n.scrollRatio.x)),r.css("left",l),s[1].css("left",dx),K(t,"_resetX")}},T=function(){function t(){r=setTimeout(function(){e.event.special.mousewheel?(clearTimeout(r),B.call(n[0])):t()},100)}var n=e(this),a=n.data(i),o=a.opt;if(!a.bindEvents){if(O.call(this),o.contentTouchScroll&&I.call(this),M.call(this),o.mouseWheel.enable){var r;t()}P.call(this),V.call(this),o.advanced.autoScrollOnFocus&&F.call(this),o.scrollButtons.enable&&H.call(this),o.keyboard.enable&&j.call(this),a.bindEvents=!0}},A=function(){var t=e(this),n=t.data(i),a=n.opt,o=i+"_"+n.idx,r=".mCSB_"+n.idx+"_scrollbar",s=e("#mCSB_"+n.idx+",#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,"+r+" ."+d[12]+",#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal,"+r+">a"),l=e("#mCSB_"+n.idx+"_container");a.advanced.releaseDraggableSelectors&&s.add(e(a.advanced.releaseDraggableSelectors)),a.advanced.extraDraggableSelectors&&s.add(e(a.advanced.extraDraggableSelectors)),n.bindEvents&&(e(document).add(e(!R()||top.document)).unbind("."+o),s.each(function(){e(this).unbind("."+o)}),clearTimeout(t[0]._focusTimeout),J(t[0],"_focusTimeout"),clearTimeout(n.sequential.step),J(n.sequential,"step"),clearTimeout(l[0].onCompleteTimeout),J(l[0],"onCompleteTimeout"),n.bindEvents=!1)},E=function(t){var n=e(this),a=n.data(i),o=a.opt,r=e("#mCSB_"+a.idx+"_container_wrapper"),s=r.length?r:e("#mCSB_"+a.idx+"_container"),l=[e("#mCSB_"+a.idx+"_scrollbar_vertical"),e("#mCSB_"+a.idx+"_scrollbar_horizontal")],c=[l[0].find(".mCSB_dragger"),l[1].find(".mCSB_dragger")];"x"!==o.axis&&(a.overflowed[0]&&!t?(l[0].add(c[0]).add(l[0].children("a")).css("display","block"),s.removeClass(d[8]+" "+d[10])):(o.alwaysShowScrollbar?(2!==o.alwaysShowScrollbar&&c[0].css("display","none"),s.removeClass(d[10])):(l[0].css("display","none"),s.addClass(d[10])),s.addClass(d[8]))),"y"!==o.axis&&(a.overflowed[1]&&!t?(l[1].add(c[1]).add(l[1].children("a")).css("display","block"),s.removeClass(d[9]+" "+d[11])):(o.alwaysShowScrollbar?(2!==o.alwaysShowScrollbar&&c[1].css("display","none"),s.removeClass(d[11])):(l[1].css("display","none"),s.addClass(d[11])),s.addClass(d[9]))),a.overflowed[0]||a.overflowed[1]?n.removeClass(d[5]):n.addClass(d[5])},D=function(t){var n=t.type,i=t.target.ownerDocument!==document&&null!==frameElement?[e(frameElement).offset().top,e(frameElement).offset().left]:null,a=R()&&t.target.ownerDocument!==top.document&&null!==frameElement?[e(t.view.frameElement).offset().top,e(t.view.frameElement).offset().left]:[0,0];switch(n){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return i?[t.originalEvent.pageY-i[0]+a[0],t.originalEvent.pageX-i[1]+a[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var o=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],r=t.originalEvent.touches.length||t.originalEvent.changedTouches.length;return t.target.ownerDocument!==document?[o.screenY,o.screenX,r>1]:[o.pageY,o.pageX,r>1];default:return i?[t.pageY-i[0]+a[0],t.pageX-i[1]+a[1],!1]:[t.pageY,t.pageX,!1]}},O=function(){function t(e,t,i,a){if(m[0].idleTimer=d.scrollInertia<233?250:0,n.attr("id")===f[1])var o="x",l=(n[0].offsetLeft-t+a)*s.scrollRatio.x;else var o="y",l=(n[0].offsetTop-e+i)*s.scrollRatio.y;K(r,l.toString(),{dir:o,drag:!0})}var n,a,o,r=e(this),s=r.data(i),d=s.opt,u=i+"_"+s.idx,f=["mCSB_"+s.idx+"_dragger_vertical","mCSB_"+s.idx+"_dragger_horizontal"],m=e("#mCSB_"+s.idx+"_container"),h=e("#"+f[0]+",#"+f[1]),v=d.advanced.releaseDraggableSelectors?h.add(e(d.advanced.releaseDraggableSelectors)):h,p=d.advanced.extraDraggableSelectors?e(!R()||top.document).add(e(d.advanced.extraDraggableSelectors)):e(!R()||top.document);h.bind("contextmenu."+u,function(e){e.preventDefault()}).bind("mousedown."+u+" touchstart."+u+" pointerdown."+u+" MSPointerDown."+u,function(t){if(t.stopImmediatePropagation(),t.preventDefault(),ee(t)){c=!0,l&&(document.onselectstart=function(){return!1}),z.call(m,!1),X(r),n=e(this);var i=n.offset(),s=D(t)[0]-i.top,u=D(t)[1]-i.left,f=n.height()+i.top,h=n.width()+i.left;f>s&&s>0&&h>u&&u>0&&(a=s,o=u),S(n,"active",d.autoExpandScrollbar)}}).bind("touchmove."+u,function(e){e.stopImmediatePropagation(),e.preventDefault();var i=n.offset(),r=D(e)[0]-i.top,s=D(e)[1]-i.left;t(a,o,r,s)}),e(document).add(p).bind("mousemove."+u+" pointermove."+u+" MSPointerMove."+u,function(e){if(n){var i=n.offset(),r=D(e)[0]-i.top,s=D(e)[1]-i.left;if(a===r&&o===s)return;t(a,o,r,s)}}).add(v).bind("mouseup."+u+" touchend."+u+" pointerup."+u+" MSPointerUp."+u,function(){n&&(S(n,"active",d.autoExpandScrollbar),n=null),c=!1,l&&(document.onselectstart=null),z.call(m,!0)})},I=function(){function n(e){if(!te(e)||c||D(e)[2])return void(t=0);t=1,C=0,S=0,d=1,k.removeClass("mCS_touch_action");var n=O.offset();u=D(e)[0]-n.top,f=D(e)[1]-n.left,q=[D(e)[0],D(e)[1]]}function a(e){if(te(e)&&!c&&!D(e)[2]&&(T.documentTouchScroll||e.preventDefault(),e.stopImmediatePropagation(),(!S||C)&&d)){p=Z();var t=E.offset(),n=D(e)[0]-t.top,i=D(e)[1]-t.left,a="mcsLinearOut";if(M.push(n),B.push(i),q[2]=Math.abs(D(e)[0]-q[0]),q[3]=Math.abs(D(e)[1]-q[1]),_.overflowed[0])var o=I[0].parent().height()-I[0].height(),r=u-n>0&&n-u>-o*_.scrollRatio.y&&(2*q[3]<q[2]||"yx"===T.axis);if(_.overflowed[1])var s=I[1].parent().width()-I[1].width(),m=f-i>0&&i-f>-s*_.scrollRatio.x&&(2*q[2]<q[3]||"yx"===T.axis);r||m?(V||e.preventDefault(),C=1):(S=1,k.addClass("mCS_touch_action")),V&&e.preventDefault(),w="yx"===T.axis?[u-n,f-i]:"x"===T.axis?[null,f-i]:[u-n,null],O[0].idleTimer=250,_.overflowed[0]&&l(w[0],L,a,"y","all",!0),_.overflowed[1]&&l(w[1],L,a,"x",z,!0)}}function o(e){if(!te(e)||c||D(e)[2])return void(t=0);t=1,e.stopImmediatePropagation(),X(k),v=Z();var n=E.offset();m=D(e)[0]-n.top,h=D(e)[1]-n.left,M=[],B=[]}function r(e){if(te(e)&&!c&&!D(e)[2]){d=0,e.stopImmediatePropagation(),C=0,S=0,g=Z();var t=E.offset(),n=D(e)[0]-t.top,i=D(e)[1]-t.left;if(!(g-p>30)){x=1e3/(g-v);var a="mcsEaseOut",o=2.5>x,r=o?[M[M.length-2],B[B.length-2]]:[0,0];b=o?[n-r[0],i-r[1]]:[n-m,i-h];var u=[Math.abs(b[0]),Math.abs(b[1])];x=o?[Math.abs(b[0]/4),Math.abs(b[1]/4)]:[x,x];var f=[Math.abs(O[0].offsetTop)-b[0]*s(u[0]/x[0],x[0]),Math.abs(O[0].offsetLeft)-b[1]*s(u[1]/x[1],x[1])];w="yx"===T.axis?[f[0],f[1]]:"x"===T.axis?[null,f[1]]:[f[0],null],y=[4*u[0]+T.scrollInertia,4*u[1]+T.scrollInertia];var k=parseInt(T.contentTouchScroll)||0;w[0]=u[0]>k?w[0]:0,w[1]=u[1]>k?w[1]:0,_.overflowed[0]&&l(w[0],y[0],a,"y",z,!1),_.overflowed[1]&&l(w[1],y[1],a,"x",z,!1)}}}function s(e,t){var n=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?n[0]:n[3]:e>60?t>3?n[3]:n[2]:e>30?t>8?n[1]:t>6?n[0]:t>4?t:n[2]:t>8?t:n[3]}function l(e,t,n,i,a,o){e&&K(k,e.toString(),{dur:t,scrollEasing:n,dir:i,overwrite:a,drag:o})}var d,u,f,m,h,v,p,g,b,x,w,y,C,S,k=e(this),_=k.data(i),T=_.opt,A=i+"_"+_.idx,E=e("#mCSB_"+_.idx),O=e("#mCSB_"+_.idx+"_container"),I=[e("#mCSB_"+_.idx+"_dragger_vertical"),e("#mCSB_"+_.idx+"_dragger_horizontal")],M=[],B=[],L=0,z="yx"===T.axis?"none":"all",q=[],P=O.find("iframe"),F=["touchstart."+A+" pointerdown."+A+" MSPointerDown."+A,"touchmove."+A+" pointermove."+A+" MSPointerMove."+A,"touchend."+A+" pointerup."+A+" MSPointerUp."+A],V=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;O.bind(F[0],function(e){n(e)}).bind(F[1],function(e){a(e)}),E.bind(F[0],function(e){o(e)}).bind(F[2],function(e){r(e)}),P.length&&P.each(function(){e(this).bind("load",function(){R(this)&&e(this.contentDocument||this.contentWindow.document).bind(F[0],function(e){n(e),o(e)}).bind(F[1],function(e){a(e)}).bind(F[2],function(e){r(e)})})})},M=function(){function n(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function a(e,t,n){d.type=n&&o?"stepped":"stepless",d.scrollAmount=10,W(r,e,t,"mcsLinearOut",n?60:null)}var o,r=e(this),s=r.data(i),l=s.opt,d=s.sequential,u=i+"_"+s.idx,f=e("#mCSB_"+s.idx+"_container"),m=f.parent();f.bind("mousedown."+u,function(){t||o||(o=1,c=!0)}).add(document).bind("mousemove."+u,function(e){if(!t&&o&&n()){var i=f.offset(),r=D(e)[0]-i.top+f[0].offsetTop,c=D(e)[1]-i.left+f[0].offsetLeft;r>0&&r<m.height()&&c>0&&c<m.width()?d.step&&a("off",null,"stepped"):("x"!==l.axis&&s.overflowed[0]&&(0>r?a("on",38):r>m.height()&&a("on",40)),"y"!==l.axis&&s.overflowed[1]&&(0>c?a("on",37):c>m.width()&&a("on",39)))}}).bind("mouseup."+u+" dragend."+u,function(){t||(o&&(o=0,a("off",null)),c=!1)})},B=function(){function t(t,i){if(X(n),!q(n,t.target)){var r="auto"!==o.mouseWheel.deltaFactor?parseInt(o.mouseWheel.deltaFactor):l&&t.deltaFactor<100?100:t.deltaFactor||100,d=o.scrollInertia;if("x"===o.axis||"x"===o.mouseWheel.axis)var u="x",f=[Math.round(r*a.scrollRatio.x),parseInt(o.mouseWheel.scrollAmount)],m="auto"!==o.mouseWheel.scrollAmount?f[1]:f[0]>=s.width()?.9*s.width():f[0],h=Math.abs(e("#mCSB_"+a.idx+"_container")[0].offsetLeft),v=c[1][0].offsetLeft,p=c[1].parent().width()-c[1].width(),g="y"===o.mouseWheel.axis?t.deltaY||i:t.deltaX;else var u="y",f=[Math.round(r*a.scrollRatio.y),parseInt(o.mouseWheel.scrollAmount)],m="auto"!==o.mouseWheel.scrollAmount?f[1]:f[0]>=s.height()?.9*s.height():f[0],h=Math.abs(e("#mCSB_"+a.idx+"_container")[0].offsetTop),v=c[0][0].offsetTop,p=c[0].parent().height()-c[0].height(),g=t.deltaY||i;"y"===u&&!a.overflowed[0]||"x"===u&&!a.overflowed[1]||((o.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(g=-g),o.mouseWheel.normalizeDelta&&(g=0>g?-1:1),(g>0&&0!==v||0>g&&v!==p||o.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),t.deltaFactor<5&&!o.mouseWheel.normalizeDelta&&(m=t.deltaFactor,d=17),K(n,(h-g*m).toString(),{dir:u,dur:d}))}}if(e(this).data(i)){var n=e(this),a=n.data(i),o=a.opt,r=i+"_"+a.idx,s=e("#mCSB_"+a.idx),c=[e("#mCSB_"+a.idx+"_dragger_vertical"),e("#mCSB_"+a.idx+"_dragger_horizontal")],d=e("#mCSB_"+a.idx+"_container").find("iframe");d.length&&d.each(function(){e(this).bind("load",function(){R(this)&&e(this.contentDocument||this.contentWindow.document).bind("mousewheel."+r,function(e,n){t(e,n)})})}),s.bind("mousewheel."+r,function(e,n){t(e,n)})}},L=new Object,R=function(t){var n=!1,i=!1,a=null;if(void 0===t?i="#empty":void 0!==e(t).attr("id")&&(i=e(t).attr("id")),!1!==i&&void 0!==L[i])return L[i];if(t){try{var o=t.contentDocument||t.contentWindow.document;a=o.body.innerHTML}catch(e){}n=null!==a}else{try{var o=top.document;a=o.body.innerHTML}catch(e){}n=null!==a}return!1!==i&&(L[i]=n),n},z=function(e){var t=this.find("iframe");if(t.length){var n=e?"auto":"none";t.css("pointer-events",n)}},q=function(t,n){var a=n.nodeName.toLowerCase(),o=t.data(i).opt.mouseWheel.disableOver,r=["select","textarea"];return e.inArray(a,o)>-1&&!(e.inArray(a,r)>-1&&!e(n).is(":focus"))},P=function(){var t,n=e(this),a=n.data(i),o=i+"_"+a.idx,r=e("#mCSB_"+a.idx+"_container"),s=r.parent();e(".mCSB_"+a.idx+"_scrollbar ."+d[12]).bind("mousedown."+o+" touchstart."+o+" pointerdown."+o+" MSPointerDown."+o,function(n){c=!0,e(n.target).hasClass("mCSB_dragger")||(t=1)}).bind("touchend."+o+" pointerup."+o+" MSPointerUp."+o,function(){c=!1}).bind("click."+o,function(i){if(t&&(t=0,e(i.target).hasClass(d[12])||e(i.target).hasClass("mCSB_draggerRail"))){X(n);var o=e(this),l=o.find(".mCSB_dragger");if(o.parent(".mCSB_scrollTools_horizontal").length>0){if(!a.overflowed[1])return;var c="x",u=i.pageX>l.offset().left?-1:1,f=Math.abs(r[0].offsetLeft)-u*(.9*s.width())}else{if(!a.overflowed[0])return;var c="y",u=i.pageY>l.offset().top?-1:1,f=Math.abs(r[0].offsetTop)-u*(.9*s.height())}K(n,f.toString(),{dir:c,scrollEasing:"mcsEaseInOut"})}})},F=function(){var t=e(this),n=t.data(i),a=n.opt,o=i+"_"+n.idx,r=e("#mCSB_"+n.idx+"_container"),s=r.parent();r.bind("focusin."+o,function(){var n=e(document.activeElement),i=r.find(".mCustomScrollBox").length;n.is(a.advanced.autoScrollOnFocus)&&(X(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=i?17*i:0,t[0]._focusTimeout=setTimeout(function(){var e=[ie(n)[0],ie(n)[1]],i=[r[0].offsetTop,r[0].offsetLeft],o=[i[0]+e[0]>=0&&i[0]+e[0]<s.height()-n.outerHeight(!1),i[1]+e[1]>=0&&i[0]+e[1]<s.width()-n.outerWidth(!1)],l="yx"!==a.axis||o[0]||o[1]?"all":"none";"x"===a.axis||o[0]||K(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:l,dur:0}),"y"===a.axis||o[1]||K(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:l,dur:0})},t[0]._focusTimer))})},V=function(){var t=e(this),n=t.data(i),a=i+"_"+n.idx,o=e("#mCSB_"+n.idx+"_container").parent();o.bind("scroll."+a,function(){0===o.scrollTop()&&0===o.scrollLeft()||e(".mCSB_"+n.idx+"_scrollbar").css("visibility","hidden")})},H=function(){var t=e(this),n=t.data(i),a=n.opt,o=n.sequential,r=i+"_"+n.idx,s=".mCSB_"+n.idx+"_scrollbar";e(s+">a").bind("contextmenu."+r,function(e){e.preventDefault()}).bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r+" mouseup."+r+" touchend."+r+" pointerup."+r+" MSPointerUp."+r+" mouseout."+r+" pointerout."+r+" MSPointerOut."+r+" click."+r,function(i){function r(e,n){o.scrollAmount=a.scrollButtons.scrollAmount,W(t,e,n)}if(i.preventDefault(),ee(i)){var s=e(this).attr("class");switch(o.type=a.scrollButtons.scrollType,i.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===o.type)return;c=!0,n.tweenRunning=!1,r("on",s);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===o.type)return;c=!1,o.dir&&r("off",s);break;case"click":if("stepped"!==o.type||n.tweenRunning)return;r("on",s)}}})},j=function(){function t(t){function i(e,t){r.type=o.keyboard.scrollType,r.scrollAmount=o.keyboard.scrollAmount,"stepped"===r.type&&a.tweenRunning||W(n,e,t)}switch(t.type){case"blur":a.tweenRunning&&r.dir&&i("off",null);break;case"keydown":case"keyup":var s=t.keyCode?t.keyCode:t.which,l="on";if("x"!==o.axis&&(38===s||40===s)||"y"!==o.axis&&(37===s||39===s)){if((38===s||40===s)&&!a.overflowed[0]||(37===s||39===s)&&!a.overflowed[1])return;"keyup"===t.type&&(l="off"),e(document.activeElement).is(u)||(t.preventDefault(),t.stopImmediatePropagation(),i(l,s))}else if(33===s||34===s){if((a.overflowed[0]||a.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type){X(n);var f=34===s?-1:1;if("x"===o.axis||"yx"===o.axis&&a.overflowed[1]&&!a.overflowed[0])var m="x",h=Math.abs(c[0].offsetLeft)-f*(.9*d.width());else var m="y",h=Math.abs(c[0].offsetTop)-f*(.9*d.height());K(n,h.toString(),{dir:m,scrollEasing:"mcsEaseInOut"})}}else if((35===s||36===s)&&!e(document.activeElement).is(u)&&((a.overflowed[0]||a.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type)){if("x"===o.axis||"yx"===o.axis&&a.overflowed[1]&&!a.overflowed[0])var m="x",h=35===s?Math.abs(d.width()-c.outerWidth(!1)):0;else var m="y",h=35===s?Math.abs(d.height()-c.outerHeight(!1)):0;K(n,h.toString(),{dir:m,scrollEasing:"mcsEaseInOut"})}}}var n=e(this),a=n.data(i),o=a.opt,r=a.sequential,s=i+"_"+a.idx,l=e("#mCSB_"+a.idx),c=e("#mCSB_"+a.idx+"_container"),d=c.parent(),u="input,textarea,select,datalist,keygen,[contenteditable='true']",f=c.find("iframe"),m=["blur."+s+" keydown."+s+" keyup."+s];f.length&&f.each(function(){e(this).bind("load",function(){R(this)&&e(this.contentDocument||this.contentWindow.document).bind(m[0],function(e){t(e)})})}),l.attr("tabindex","0").bind(m[0],function(e){t(e)})},W=function(t,n,a,o,r){function s(e){c.snapAmount&&(u.scrollAmount=c.snapAmount instanceof Array?"x"===u.dir[0]?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount);var n="stepped"!==u.type,i=r||(e?n?h/1.5:v:1e3/60),a=e?n?7.5:40:2.5,d=[Math.abs(f[0].offsetTop),Math.abs(f[0].offsetLeft)],m=[l.scrollRatio.y>10?10:l.scrollRatio.y,l.scrollRatio.x>10?10:l.scrollRatio.x],p="x"===u.dir[0]?d[1]+u.dir[1]*(m[1]*a):d[0]+u.dir[1]*(m[0]*a),g="x"===u.dir[0]?d[1]+u.dir[1]*parseInt(u.scrollAmount):d[0]+u.dir[1]*parseInt(u.scrollAmount),b="auto"!==u.scrollAmount?g:p,x=o||(e?n?"mcsLinearOut":"mcsEaseInOut":"mcsLinear"),w=!!e;return e&&17>i&&(b="x"===u.dir[0]?d[1]:d[0]),K(t,b.toString(),{dir:u.dir[0],scrollEasing:x,dur:i,onComplete:w}),e?void(u.dir=!1):(clearTimeout(u.step),void(u.step=setTimeout(function(){s()},i)))}var l=t.data(i),c=l.opt,u=l.sequential,f=e("#mCSB_"+l.idx+"_container"),m="stepped"===u.type,h=c.scrollInertia<26?26:c.scrollInertia,v=c.scrollInertia<1?17:c.scrollInertia;switch(n){case"on":if(u.dir=[a===d[16]||a===d[15]||39===a||37===a?"x":"y",a===d[13]||a===d[15]||38===a||37===a?-1:1],X(t),ne(a)&&"stepped"===u.type)return;s(m);break;case"off":(function(){clearTimeout(u.step),J(u,"step"),X(t)})(),(m||l.tweenRunning&&u.dir)&&s(!0)}},U=function(t){var n=e(this).data(i).opt,a=[];return"function"==typeof t&&(t=t()),t instanceof Array?a=t.length>1?[t[0],t[1]]:"x"===n.axis?[null,t[0]]:[t[0],null]:(a[0]=t.y?t.y:t.x||"x"===n.axis?null:t,
a[1]=t.x?t.x:t.y||"y"===n.axis?null:t),"function"==typeof a[0]&&(a[0]=a[0]()),"function"==typeof a[1]&&(a[1]=a[1]()),a},N=function(t,n){if(null!=t&&void 0!==t){var a=e(this),o=a.data(i),r=o.opt,s=e("#mCSB_"+o.idx+"_container"),l=s.parent(),c=typeof t;n||(n="x"===r.axis?"x":"y");var d="x"===n?s.outerWidth(!1)-l.width():s.outerHeight(!1)-l.height(),f="x"===n?s[0].offsetLeft:s[0].offsetTop,m="x"===n?"left":"top";switch(c){case"function":return t();case"object":var h=t.jquery?t:e(t);if(!h.length)return;return"x"===n?ie(h)[1]:ie(h)[0];case"string":case"number":if(ne(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(d*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(f-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var v=f+parseInt(t.split("+=")[1]);return v>=0?0:Math.abs(v)}if(-1!==t.indexOf("px")&&ne(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(l.height()-s.outerHeight(!1));if("right"===t)return Math.abs(l.width()-s.outerWidth(!1));if("first"===t||"last"===t){var h=s.find(":"+t);return"x"===n?ie(h)[1]:ie(h)[0]}return e(t).length?"x"===n?ie(e(t))[1]:ie(e(t))[0]:(s.css(m,t),void u.update.call(null,a[0]))}}},$=function(t){function n(){return clearTimeout(f[0].autoUpdate),0===s.parents("html").length?void(s=null):void(f[0].autoUpdate=setTimeout(function(){return c.advanced.updateOnSelectorChange&&(l.poll.change.n=o(),l.poll.change.n!==l.poll.change.o)?(l.poll.change.o=l.poll.change.n,void r(3)):c.advanced.updateOnContentResize&&(l.poll.size.n=s[0].scrollHeight+s[0].scrollWidth+f[0].offsetHeight+s[0].offsetHeight+s[0].offsetWidth,l.poll.size.n!==l.poll.size.o)?(l.poll.size.o=l.poll.size.n,void r(1)):!c.advanced.updateOnImageLoad||"auto"===c.advanced.updateOnImageLoad&&"y"===c.axis||(l.poll.img.n=f.find("img").length,l.poll.img.n===l.poll.img.o)?void((c.advanced.updateOnSelectorChange||c.advanced.updateOnContentResize||c.advanced.updateOnImageLoad)&&n()):(l.poll.img.o=l.poll.img.n,void f.find("img").each(function(){a(this)}))},c.advanced.autoUpdateTimeout))}function a(t){function n(){this.onload=null,e(t).addClass(d[2]),r(2)}if(e(t).hasClass(d[2]))return void r();var i=new Image;i.onload=function(e,t){return function(){return t.apply(e,arguments)}}(i,n),i.src=t.src}function o(){!0===c.advanced.updateOnSelectorChange&&(c.advanced.updateOnSelectorChange="*");var e=0,t=f.find(c.advanced.updateOnSelectorChange);return c.advanced.updateOnSelectorChange&&t.length>0&&t.each(function(){e+=this.offsetHeight+this.offsetWidth}),e}function r(e){clearTimeout(f[0].autoUpdate),u.update.call(null,s[0],e)}var s=e(this),l=s.data(i),c=l.opt,f=e("#mCSB_"+l.idx+"_container");return t?(clearTimeout(f[0].autoUpdate),void J(f[0],"autoUpdate")):void n()},Y=function(e,t,n){return Math.round(e/t)*t-n},X=function(t){var n=t.data(i);e("#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal").each(function(){G.call(this)})},K=function(t,n,a){function o(e){return l&&c.callbacks[e]&&"function"==typeof c.callbacks[e]}function r(){return[c.callbacks.alwaysTriggerOffsets||w>=y[0]+k,c.callbacks.alwaysTriggerOffsets||-_>=w]}function s(){var e=[m[0].offsetTop,m[0].offsetLeft],n=[b[0].offsetTop,b[0].offsetLeft],i=[m.outerHeight(!1),m.outerWidth(!1)],o=[f.height(),f.width()];t[0].mcs={content:m,top:e[0],left:e[1],draggerTop:n[0],draggerLeft:n[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(i[0])-o[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(i[1])-o[1])),direction:a.dir}}var l=t.data(i),c=l.opt,d={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:c.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},a=e.extend(d,a),u=[a.dur,a.drag?0:a.dur],f=e("#mCSB_"+l.idx),m=e("#mCSB_"+l.idx+"_container"),h=m.parent(),v=c.callbacks.onTotalScrollOffset?U.call(t,c.callbacks.onTotalScrollOffset):[0,0],p=c.callbacks.onTotalScrollBackOffset?U.call(t,c.callbacks.onTotalScrollBackOffset):[0,0];if(l.trigger=a.trigger,0===h.scrollTop()&&0===h.scrollLeft()||(e(".mCSB_"+l.idx+"_scrollbar").css("visibility","visible"),h.scrollTop(0).scrollLeft(0)),"_resetY"!==n||l.contentReset.y||(o("onOverflowYNone")&&c.callbacks.onOverflowYNone.call(t[0]),l.contentReset.y=1),"_resetX"!==n||l.contentReset.x||(o("onOverflowXNone")&&c.callbacks.onOverflowXNone.call(t[0]),l.contentReset.x=1),"_resetY"!==n&&"_resetX"!==n){if(!l.contentReset.y&&t[0].mcs||!l.overflowed[0]||(o("onOverflowY")&&c.callbacks.onOverflowY.call(t[0]),l.contentReset.x=null),!l.contentReset.x&&t[0].mcs||!l.overflowed[1]||(o("onOverflowX")&&c.callbacks.onOverflowX.call(t[0]),l.contentReset.x=null),c.snapAmount){var g=c.snapAmount instanceof Array?"x"===a.dir?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount;n=Y(n,g,c.snapOffset)}switch(a.dir){case"x":var b=e("#mCSB_"+l.idx+"_dragger_horizontal"),x="left",w=m[0].offsetLeft,y=[f.width()-m.outerWidth(!1),b.parent().width()-b.width()],C=[n,0===n?0:n/l.scrollRatio.x],k=v[1],_=p[1],T=k>0?k/l.scrollRatio.x:0,A=_>0?_/l.scrollRatio.x:0;break;case"y":var b=e("#mCSB_"+l.idx+"_dragger_vertical"),x="top",w=m[0].offsetTop,y=[f.height()-m.outerHeight(!1),b.parent().height()-b.height()],C=[n,0===n?0:n/l.scrollRatio.y],k=v[0],_=p[0],T=k>0?k/l.scrollRatio.y:0,A=_>0?_/l.scrollRatio.y:0}C[1]<0||0===C[0]&&0===C[1]?C=[0,0]:C[1]>=y[1]?C=[y[0],y[1]]:C[0]=-C[0],t[0].mcs||(s(),o("onInit")&&c.callbacks.onInit.call(t[0])),clearTimeout(m[0].onCompleteTimeout),Q(b[0],x,Math.round(C[1]),u[1],a.scrollEasing),!l.tweenRunning&&(0===w&&C[0]>=0||w===y[0]&&C[0]<=y[0])||Q(m[0],x,Math.round(C[0]),u[0],a.scrollEasing,a.overwrite,{onStart:function(){a.callbacks&&a.onStart&&!l.tweenRunning&&(o("onScrollStart")&&(s(),c.callbacks.onScrollStart.call(t[0])),l.tweenRunning=!0,S(b),l.cbOffsets=r())},onUpdate:function(){a.callbacks&&a.onUpdate&&o("whileScrolling")&&(s(),c.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(a.callbacks&&a.onComplete){"yx"===c.axis&&clearTimeout(m[0].onCompleteTimeout);var e=m[0].idleTimer||0;m[0].onCompleteTimeout=setTimeout(function(){o("onScroll")&&(s(),c.callbacks.onScroll.call(t[0])),o("onTotalScroll")&&C[1]>=y[1]-T&&l.cbOffsets[0]&&(s(),c.callbacks.onTotalScroll.call(t[0])),o("onTotalScrollBack")&&C[1]<=A&&l.cbOffsets[1]&&(s(),c.callbacks.onTotalScrollBack.call(t[0])),l.tweenRunning=!1,m[0].idleTimer=0,S(b,"hide")},e)}}})}},Q=function(e,t,n,i,a,o,r){function s(){x.stop||(p||f.call(),p=Z()-v,l(),p>=x.time&&(x.time=p>x.time?p+d-(p-x.time):p+d-1,x.time<p+1&&(x.time=p+1)),x.time<i?x.id=u(s):h.call())}function l(){i>0?(x.currVal=c(x.time,g,w,i,a),b[t]=Math.round(x.currVal)+"px"):b[t]=n+"px",m.call()}function c(e,t,n,i,a){switch(a){case"linear":case"mcsLinear":return n*e/i+t;case"mcsLinearOut":return e/=i,e--,n*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return e/=i/2,1>e?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t);case"easeInOutStrong":return e/=i/2,1>e?n/2*Math.pow(2,10*(e-1))+t:(e--,n/2*(2-Math.pow(2,-10*e))+t);case"easeInOut":case"mcsEaseInOut":return e/=i/2,1>e?n/2*e*e*e+t:(e-=2,n/2*(e*e*e+2)+t);case"easeOutSmooth":return e/=i,e--,-n*(e*e*e*e-1)+t;case"easeOutStrong":return n*(1-Math.pow(2,-10*e/i))+t;case"easeOut":case"mcsEaseOut":default:var o=(e/=i)*e,r=o*e;return t+n*(.499999999999997*r*o+-2.5*o*o+5.5*r+-6.5*o+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var d,u,r=r||{},f=r.onStart||function(){},m=r.onUpdate||function(){},h=r.onComplete||function(){},v=Z(),p=0,g=e.offsetTop,b=e.style,x=e._mTween[t];"left"===t&&(g=e.offsetLeft);var w=n-g;x.stop=0,"none"!==o&&function(){null!=x.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(x.id):clearTimeout(x.id),x.id=null)}(),function(){d=1e3/60,x.time=p+d,u=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return l(),setTimeout(e,.01)},x.id=u(s)}()},Z=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},G=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],n=0;n<t.length;n++){var i=t[n];e._mTween[i].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[i].id):clearTimeout(e._mTween[i].id),e._mTween[i].id=null,e._mTween[i].stop=1)}},J=function(e,t){try{delete e[t]}catch(n){e[t]=null}},ee=function(e){return!(e.which&&1!==e.which)},te=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},ne=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},ie=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},ae=function(){var e=function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}();return!!e&&document[e]};e.fn[n]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[n]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[n].defaults=o,window[n]=!0,e(window).bind("load",function(){e(a)[n](),e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var n,i,a=e(t),o=a.parents(".mCSB_container");if(o.length)return n=o.parent(),i=[o[0].offsetTop,o[0].offsetLeft],i[0]+ie(a)[0]>=0&&i[0]+ie(a)[0]<n.height()-a.outerHeight(!1)&&i[1]+ie(a)[1]>=0&&i[1]+ie(a)[1]<n.width()-a.outerWidth(!1)},mcsInSight:e.expr[":"].mcsInSight||function(t,n,i){var a,o,r,s,l=e(t),c=l.parents(".mCSB_container"),d="exact"===i[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(c.length)return a=[l.outerHeight(!1),l.outerWidth(!1)],r=[c[0].offsetTop+ie(l)[0],c[0].offsetLeft+ie(l)[1]],o=[c.parent()[0].offsetHeight,c.parent()[0].offsetWidth],s=[a[0]<o[0]?d[0]:d[1],a[1]<o[1]?d[0]:d[1]],r[0]-o[0]*s[0][0]<0&&r[0]+a[0]-o[0]*s[0][1]>=0&&r[1]-o[1]*s[1][0]<0&&r[1]+a[1]-o[1]*s[1][1]>=0},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var n=e(t).data(i);if(n)return n.overflowed[0]||n.overflowed[1]}})})}()}()});